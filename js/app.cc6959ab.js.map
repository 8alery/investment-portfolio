{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/store/modules/bonds.js","webpack:///./src/store/modules/index.js","webpack:///./src/js/moex.js","webpack:///./src/store/modules/layout.js","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/App.vue?1394","webpack:///./src/App.vue?180a","webpack:///./src/views/Bonds/BondsAlternate.vue?0d52","webpack:///src/views/Bonds/BondsAlternate.vue","webpack:///./src/views/Bonds/BondsAlternate.vue?2740","webpack:///./src/views/Bonds/BondsAlternate.vue","webpack:///./src/views/Bonds/ViewBond.vue?41cb","webpack:///./src/js/helpers.js","webpack:///src/views/Bonds/ViewBond.vue","webpack:///./src/views/Bonds/ViewBond.vue?5334","webpack:///./src/views/Bonds/ViewBond.vue","webpack:///./src/views/Shares/Shares.vue?a62f","webpack:///src/views/Shares/Shares.vue","webpack:///./src/views/Shares/Shares.vue?8544","webpack:///./src/views/Shares/Shares.vue","webpack:///./src/views/Shares/ViewShare.vue?a8b0","webpack:///src/views/Shares/ViewShare.vue","webpack:///./src/views/Shares/ViewShare.vue?91a1","webpack:///./src/views/Shares/ViewShare.vue","webpack:///./src/views/Portfolio/EditPortfolioOrder.vue?bee5","webpack:///src/views/Portfolio/EditPortfolioOrder.vue","webpack:///./src/views/Portfolio/EditPortfolioOrder.vue?9ab1","webpack:///./src/views/Portfolio/EditPortfolioOrder.vue?efbf","webpack:///./src/views/Portfolio/Fees.vue?4073","webpack:///src/views/Portfolio/Fees.vue","webpack:///./src/views/Portfolio/Fees.vue?9fdc","webpack:///./src/views/Portfolio/Fees.vue","webpack:///./src/views/Portfolio/Orders.vue?059e","webpack:///src/views/Portfolio/Orders.vue","webpack:///./src/views/Portfolio/Orders.vue?16fa","webpack:///./src/views/Portfolio/Orders.vue","webpack:///./src/views/Portfolio/Securities.vue?0186","webpack:///src/views/Portfolio/Securities.vue","webpack:///./src/views/Portfolio/Securities.vue?37d8","webpack:///./src/views/Portfolio/Securities.vue","webpack:///./src/views/Portfolio/Portfolio.vue?4fd1","webpack:///src/views/Portfolio/Portfolio.vue","webpack:///./src/views/Portfolio/Portfolio.vue?94f5","webpack:///./src/views/Portfolio/Portfolio.vue","webpack:///./src/views/Portfolio/ViewSecurity.vue?7e5f","webpack:///src/views/Portfolio/ViewSecurity.vue","webpack:///./src/views/Portfolio/ViewSecurity.vue?ca91","webpack:///./src/views/Portfolio/ViewSecurity.vue","webpack:///./src/views/Portfolio/EditFee.vue?efb2","webpack:///src/views/Portfolio/EditFee.vue","webpack:///./src/views/Portfolio/EditFee.vue?b910","webpack:///./src/views/Portfolio/EditFee.vue","webpack:///./src/views/Portfolio/index.js","webpack:///./src/views/index.js","webpack:///./src/router.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/App.vue?3310","webpack:///./src/store/modules/shares.js","webpack:///./src/js/db.js","webpack:///./src/store/modules/portfolio.js","webpack:///./src/store/modules sync nonrecursive \\.js$","webpack:///./src/views/Portfolio/EditPortfolioOrder.vue?4c4d"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","vueExtend","dest","source","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","_home_travis_build_8alery_investment_portfolio_node_modules_babel_runtime_corejs2_core_js_get_iterator__WEBPACK_IMPORTED_MODULE_2___default","_","keys","next","done","Vue","set","err","return","promisesCache","__webpack_exports__","state","loading","items","bondsCache","selectedBoard","searchText","boards","currentPage","perPage","sortBy","sortDesc","getters","bonds","bondsBoards","mutations","bonds.set","bonds.update","item","id","bondsBoards.set","bonds.selectedBoard","bonds.searchText","bonds.currentPage","bonds.perPage","bonds.sortBy","bonds.sortDesc","bonds.loading","actions","changeBondsSelectedBoard","_ref","commit","dispatch","getBonds","_ref2","_home_travis_build_8alery_investment_portfolio_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_0___default","a","resolve","reject","moex","getSecuritiesForMarketAndBoard","market","board","then","securities","getBond","_ref3","secid","getBondsBoards","_ref4","getBoardsForMarket","files","require","forEach","replace","default","mapValuesAndColumns","columns","reduce","acc","index","_home_travis_build_8alery_investment_portfolio_node_modules_babel_runtime_corejs2_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_6__","_home_travis_build_8alery_investment_portfolio_node_modules_babel_runtime_corejs2_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_5__","getSelectedKeys","selectedKeys","allKeys","values","each","indexOf","axios","concat","response","status","_home_travis_build_8alery_investment_portfolio_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_4___default","statusText","_response$data","marketdata","mappedSecurities","securityValues","obj","SECID","details","omit","marketData","marketDataValues","security","find","all","_response$data2","description","info","el","boardsData","params","start","limit","iss.meta","sort_order","_response$data3","amortizations","coupons","offers","payments","_home_travis_build_8alery_investment_portfolio_node_modules_babel_runtime_corejs2_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","_ref3$","mappedBoards","boardValues","getShare","_response$data4","_ref5","_ref5$","filter","kind","layout.bonds.filter.board","layout.bonds.searchText","layout.bonds.currentPage","layout.bonds.perPage","layout.bonds.sortBy","layout.bonds.sortDesc","layout.bonds.kind","map","./af","./af.js","./ar","./ar-dz","./ar-dz.js","./ar-kw","./ar-kw.js","./ar-ly","./ar-ly.js","./ar-ma","./ar-ma.js","./ar-sa","./ar-sa.js","./ar-tn","./ar-tn.js","./ar.js","./az","./az.js","./be","./be.js","./bg","./bg.js","./bm","./bm.js","./bn","./bn.js","./bo","./bo.js","./br","./br.js","./bs","./bs.js","./ca","./ca.js","./cs","./cs.js","./cv","./cv.js","./cy","./cy.js","./da","./da.js","./de","./de-at","./de-at.js","./de-ch","./de-ch.js","./de.js","./dv","./dv.js","./el","./el.js","./en-SG","./en-SG.js","./en-au","./en-au.js","./en-ca","./en-ca.js","./en-gb","./en-gb.js","./en-ie","./en-ie.js","./en-il","./en-il.js","./en-nz","./en-nz.js","./eo","./eo.js","./es","./es-do","./es-do.js","./es-us","./es-us.js","./es.js","./et","./et.js","./eu","./eu.js","./fa","./fa.js","./fi","./fi.js","./fo","./fo.js","./fr","./fr-ca","./fr-ca.js","./fr-ch","./fr-ch.js","./fr.js","./fy","./fy.js","./ga","./ga.js","./gd","./gd.js","./gl","./gl.js","./gom-latn","./gom-latn.js","./gu","./gu.js","./he","./he.js","./hi","./hi.js","./hr","./hr.js","./hu","./hu.js","./hy-am","./hy-am.js","./id","./id.js","./is","./is.js","./it","./it-ch","./it-ch.js","./it.js","./ja","./ja.js","./jv","./jv.js","./ka","./ka.js","./kk","./kk.js","./km","./km.js","./kn","./kn.js","./ko","./ko.js","./ku","./ku.js","./ky","./ky.js","./lb","./lb.js","./lo","./lo.js","./lt","./lt.js","./lv","./lv.js","./me","./me.js","./mi","./mi.js","./mk","./mk.js","./ml","./ml.js","./mn","./mn.js","./mr","./mr.js","./ms","./ms-my","./ms-my.js","./ms.js","./mt","./mt.js","./my","./my.js","./nb","./nb.js","./ne","./ne.js","./nl","./nl-be","./nl-be.js","./nl.js","./nn","./nn.js","./pa-in","./pa-in.js","./pl","./pl.js","./pt","./pt-br","./pt-br.js","./pt.js","./ro","./ro.js","./ru","./ru.js","./sd","./sd.js","./se","./se.js","./si","./si.js","./sk","./sk.js","./sl","./sl.js","./sq","./sq.js","./sr","./sr-cyrl","./sr-cyrl.js","./sr.js","./ss","./ss.js","./sv","./sv.js","./sw","./sw.js","./ta","./ta.js","./te","./te.js","./tet","./tet.js","./tg","./tg.js","./th","./th.js","./tl-ph","./tl-ph.js","./tlh","./tlh.js","./tr","./tr.js","./tzl","./tzl.js","./tzm","./tzm-latn","./tzm-latn.js","./tzm.js","./ug-cn","./ug-cn.js","./uk","./uk.js","./ur","./ur.js","./uz","./uz-latn","./uz-latn.js","./uz.js","./vi","./vi.js","./x-pseudo","./x-pseudo.js","./yo","./yo.js","./zh-cn","./zh-cn.js","./zh-hk","./zh-hk.js","./zh-tw","./zh-tw.js","webpackContext","req","webpackContextResolve","e","Error","code","Appvue_type_template_id_38c2a13d_render","_vm","this","_h","$createElement","_c","_self","attrs","to","_v","staticRenderFns","script","component","componentNormalizer","App","BondsAlternatevue_type_template_id_836d31b8_render","staticClass","fluid","cols","options","bondBoards","model","callback","$$v","expression","placeholder","on","click","$event","stopPropagation","preventDefault","exportData","icon","striped","hover","busy","no-local-sorting","fields","sort-by","sort-desc","itemsVisible","small","row-clicked","viewItem","update:sortBy","update:sort-by","update:sortDesc","update:sort-desc","slot","per-page","total-rows","rows","BondsAlternatevue_type_template_id_836d31b8_staticRenderFns","units","SUR","USD","EUR","BondsAlternatevue_type_script_lang_js_","components","BRow","row","BPagination","pagination","BFormSelect","form_select","BSpinner","spinner","BFormRow","form_row","BFormInput","form_input","BForm","form_form","BTable","table","BCol","col","BContainer","container","BButton","button_button","usefulBoards","text","label","formatter","BOARDID","sortable","SHORTNAME","YIELD","COUPONVALUE","moment_default","NEXTCOUPON","format","MATDATE","COUPONPERCENT","COUPONPERIOD","MARKETPRICE","LOTSIZE","FACEVALUE","FACEUNIT","ISIN","bondsGroups","computed","$store","itemsFiltered","regex","RegExp","lodash_default","b","test","SECNAME","orderBy","boardid","title","created","watch","filter.board","console","log","methods","workbook","xlsx_default","utils","book_new","new_ws_name","first","isoDateRegex","ws_data","toConsumableArray","isObject","isArray","stringify_default","isString","Date","ws","aoa_to_sheet","book_append_sheet","writeFile","$router","Bonds_BondsAlternatevue_type_script_lang_js_","BondsAlternate_component","BondsAlternate","ViewBondvue_type_template_id_090fa35f_render","variant","addToPortfolio","class","active","selectedSection","submit","calculateYield","type","step","targetPrice","_s","effectiveYield","nkd","selectedTab","tbody-tr-class","couponRowClass","couponsFields","amortizationRowClass","amortizationsFields","ViewBondvue_type_template_id_090fa35f_staticRenderFns","PRECITION","helpers","roundFloat","decimals","multiplier","Math","pow","round","xiff","price","periods","rate","arguments","firstPeriod","moment","periodLengths","periodLength","date","diff","amount","calculateNKD","bond","previous","current","coupondate","elapsed","calculateYieldForPrice","fromDate","getTime","amortdate","valueOf","data_source","groupBy","dates","parse_int_default","faceValue","parse_float_default","totalPrice","yieldToMaturity","getBondPaymentsForPeriod","from","_bond$payments","toDate","get_iterator_default","coupon","matDate","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","calculateOwnershipForPayments","orders","mappedOrders","purchaseDate","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_loop","payment","validOrders","totalAmount","total","_iterator3","ViewBondvue_type_script_lang_js_","BFormGroup","form_group","BTab","tab","BTabs","tabs","isin","nextCouponDate","maturationDate","frequency","pricePercent","YTM","hasAmortization","moneyFlowFields","$route","_this","_this2","closestAmortizationDate","now","now_default","amort","closestCouponDate","_this3","_helpers$calculateYie","Bonds_ViewBondvue_type_script_lang_js_","ViewBond_component","ViewBond","Sharesvue_type_template_id_0c58df28_scoped_true_render","sharesBoards","Sharesvue_type_template_id_0c58df28_scoped_true_staticRenderFns","Sharesvue_type_script_lang_js_units","Sharesvue_type_script_lang_js_","shares","Shares_Sharesvue_type_script_lang_js_","Shares_component","Shares","ViewSharevue_type_template_id_29d062d8_scoped_true_render","ViewSharevue_type_template_id_29d062d8_scoped_true_staticRenderFns","ViewSharevue_type_script_lang_js_","Shares_ViewSharevue_type_script_lang_js_","ViewShare_component","ViewShare","EditPortfolioOrdervue_type_template_id_10cc8249_render","save","label-for","$set","_n","input","setDate","deleteItem","_e","EditPortfolioOrdervue_type_template_id_10cc8249_staticRenderFns","EditPortfolioOrdervue_type_script_lang_js_","Datepicker","vuejs_datepicker_esm","flowFields","currentDate","previousDate","period","floor","add","extend","field","Portfolio_EditPortfolioOrdervue_type_script_lang_js_","EditPortfolioOrder_component","EditPortfolioOrder","Feesvue_type_template_id_2fcb28a0_scoped_true_render","_f","editItem","Feesvue_type_template_id_2fcb28a0_scoped_true_staticRenderFns","Feesvue_type_script_lang_js_","BLink","link_link","portfolioFees","portfolioFeesTotal","Portfolio_Feesvue_type_script_lang_js_","Fees_component","Fees","Ordersvue_type_template_id_4af85b8a_scoped_true_render","totalPurchasePrice","totalMarketPrice","for","ref","staticStyle","display","accept","change","onFileChange","scopedSlots","_u","fn","Ordersvue_type_template_id_4af85b8a_scoped_true_staticRenderFns","Ordersvue_type_script_lang_js_","portfolioOrders","portfolioOrdersTotalMarketPrice","portfolioOrdersTotalPurchasePrice","rABS","target","dataTransfer","importFile","reader","FileReader","onload","Uint8Array","read","sheetName","SheetNames","json","sheet_to_json","Sheets","readAsBinaryString","readAsArrayBuffer","Portfolio_Ordersvue_type_script_lang_js_","Orders_component","Orders","Securitiesvue_type_template_id_08ccde84_scoped_true_render","Securitiesvue_type_template_id_08ccde84_scoped_true_staticRenderFns","Securitiesvue_type_script_lang_js_","portfolioSecurities","Portfolio_Securitiesvue_type_script_lang_js_","Securities_component","Securities","Portfoliovue_type_template_id_6436a76e_scoped_true_render","pills","_l","active-class","Portfoliovue_type_template_id_6436a76e_scoped_true_staticRenderFns","Portfoliovue_type_script_lang_js_","portfolioTotal","listTypes","Portfolio_Portfoliovue_type_script_lang_js_","Portfolio_component","Portfolio","ViewSecurityvue_type_template_id_55f81674_scoped_true_render","totalPayments","totalCost","yieldYearly","orderFields","paymentFields","ViewSecurityvue_type_template_id_55f81674_scoped_true_staticRenderFns","ViewSecurityvue_type_script_lang_js_","isEmpty","sharesCache","firstOrder","minBy","dateValue","paymentType","Portfolio_ViewSecurityvue_type_script_lang_js_","ViewSecurity_component","ViewSecurity","EditFeevue_type_template_id_6454a850_scoped_true_render","EditFeevue_type_template_id_6454a850_scoped_true_staticRenderFns","EditFeevue_type_script_lang_js_","clone","comment","Portfolio_EditFeevue_type_script_lang_js_","EditFee_component","EditFee","views_Portfolio","EditOrderPage","FeesPage","OrdersPage","SecuritiesPage","IndexPage","ViewSecurityPage","EditFeePage","views","use","Router","router","routes","path","children","redirect","Vuex","store","Store","library","faPlus","faFileExcel","faBriefcase","FontAwesomeIcon","BootstrapVue","config","productionTip","render","h","$mount","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","shares.set","sharesBoards.set","shares.update","shares.selectedBoard","shares.searchText","shares.currentPage","shares.perPage","shares.sortBy","shares.sortDesc","shares.loading","changeSharesSelectedBoard","getShares","getSharesBoards","db","Dexie","version","stores","fees","js_db","saveOrder","order","put","orderId","saveOrders","bulkAdd","lastId","getOrders","deleteOrder","_deleteOrder","asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","abrupt","delete","stop","_x","toArray","getFees","saveFee","itemId","getPortfolioPromise","getFeesPromise","smartParseNumber","isNumber","ordersCache","feesCache","portfolioOrdersCache","portfolioOrders.set","portfolioOrders.add","portfolioOrders.update","existing","portfolioOrders.delete","portfolioFees.set","portfolioFees.update","promise_default","addOrder","getOrder","updateOrder","_ref6","getPortfolioFees","_ref7","getPortfolioFee","_ref8","savePortfolioFee","_ref9","fee","importPortfolioOrders","_ref10","DATE","PRICE","AMOUNT","NKD","./bonds.js","./index.js","./layout.js","./portfolio.js","./shares.js","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EditPortfolioOrder_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EditPortfolioOrder_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,UAAA,OACAC,aAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,UAAA,OACAC,aAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,YAAA,OACAC,eAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,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","file":"js/app.cc6959ab.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/investment-portfolio/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([1,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import _ from 'lodash';\nimport Vue from 'vue';\nimport moex from '../../js/moex';\n\nconst vueExtend = (dest, source) => {\n\tfor(const key of _.keys(source)){\n\t\tVue.set(dest, key, source[key]);\n\t}\n};\n\nconst promisesCache = {};\n\nexport default {\n\tstate: {\n\t\tloading: false,\n\t\titems: [],\n\t\tbondsCache: {},\n\t\tselectedBoard: 'TQOB',\n\t\tsearchText: '',\n\t\tboards: [],\n\t\tcurrentPage: 1,\n\t\tperPage: 20,\n\t\tsortBy: 'marketData.YIELD',\n\t\tsortDesc: true\n\t},\n\tgetters: {\n\t\tbonds: (state) => state.items,\n\t\tbondsBoards: (state) => state.boards,\n\t\tbondsCache: (state) => state.bondsCache\n\t},\n\tmutations: {\n\t\t'bonds.set'(state, items){\n\t\t\tstate.items = items;\n\t\t},\n\t\t'bonds.update'(state, item){\n\t\t\tif (state.bondsCache[item.id]){\n\t\t\t\tvueExtend(state.bondsCache[item.id], item);\n\t\t\t} else {\n\t\t\t\tVue.set(state.bondsCache, item.id, item);\n\t\t\t}\n\t\t},\n\t\t'bondsBoards.set'(state, items){\n\t\t\tstate.boards = items;\n\t\t},\n\t\t'bonds.selectedBoard'(state, value){\n\t\t\tstate.selectedBoard = value;\n\t\t},\n\t\t'bonds.searchText'(state, value){\n\t\t\tstate.searchText = value;\n\t\t},\n\t\t'bonds.currentPage'(state, value){\n\t\t\tstate.currentPage = value;\n\t\t},\n\t\t'bonds.perPage'(state, value){\n\t\t\tstate.perPage = value;\n\t\t},\n\t\t'bonds.sortBy'(state, value){\n\t\t\tstate.sortBy = value;\n\t\t},\n\t\t'bonds.sortDesc'(state, value){\n\t\t\tstate.sortDesc = value;\n\t\t},\n\t\t'bonds.loading'(state, value){\n\t\t\tstate.loading = value;\n\t\t}\n\t},\n\tactions: {\n\t\tchangeBondsSelectedBoard({ commit, dispatch }, value){\n\t\t\tcommit('bonds.selectedBoard', value);\n\t\t\tcommit('bonds.set', []);\n\t\t\tpromisesCache.getBonds = null;\n\t\t\tdispatch('getBonds');\n\t\t},\n\t\tgetBonds({ commit, state }){\n\t\t\tif (!promisesCache.getBonds){\n\t\t\t\tpromisesCache.getBonds = new Promise((resolve, reject) => {\n\t\t\t\t\tcommit('bonds.loading', true);\n\t\t\t\t\tmoex.getSecuritiesForMarketAndBoard({ market: 'bonds', board: state.selectedBoard }).then((securities) => {\n\t\t\t\t\t\tcommit('bonds.set', securities);\n\t\t\t\t\t\tcommit('bonds.loading', false);\n\t\t\t\t\t}, reject);\n\t\t\t\t})\n\t\t\t}\n\t\t\treturn promisesCache.getBonds;\n\t\t},\n\t\tgetBond({ state, commit }, secid){\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tif (state.bondsCache[secid]){\n\t\t\t\t\treturn resolve(state.bondsCache[secid]);\n\t\t\t\t}\n\t\t\t\treturn moex.getBond(secid).then((item) => {\n\t\t\t\t\tcommit('bonds.update', item);\n\t\t\t\t\treturn resolve(state.bondsCache[secid]);\n\t\t\t\t}, reject);\n\t\t\t});\n\t\t},\n\t\tgetBondsBoards({ commit }){\n\t\t\tif (!promisesCache.getBoardsForMarket){\n\t\t\t\tpromisesCache.getBoardsForMarket = new Promise((resolve, reject) => {\n\t\t\t\t\tmoex.getBoardsForMarket('bonds').then((items) => {\n\t\t\t\t\t\tcommit('bondsBoards.set', items);\n\t\t\t\t\t}, reject);\n\t\t\t\t})\n\t\t\t}\n\t\t\treturn promisesCache.getBoardsForMarket;\n\t\t}\n\t}\n}","/**\n * The file enables `@/store/index.js` to import all vuex modules\n * in a one-shot manner. There should not be any reason to edit this file.\n */\n\nconst files = require.context('.', false, /\\.js$/);\nconst modules = {};\n\nfiles.keys().forEach(key => {\n\tif (key === './index.js') return;\n\tmodules[key.replace(/(\\.\\/|\\.js)/g, '')] = files(key).default;\n});\n\nexport default modules;","import axios from 'axios';\nimport _ from 'lodash';\n\nconst mapValuesAndColumns = (data, columns) => {\n\treturn _.reduce(data, (acc, value, index) => {\n\t\tconst key = columns[index];\n\t\treturn {\n\t\t\t...acc,\n\t\t\t[key]: value\n\t\t};\n\n\t}, {});\n};\n\nconst getSelectedKeys = (selectedKeys, allKeys, values) => {\n\tconst result = {};\n\t_.each(allKeys, (key, index) => {\n\t\tif (_.indexOf(selectedKeys, key) !== -1){\n\t\t\tresult[key] = values[index];\n\t\t}\n\t});\n\treturn result;\n};\n\n\nexport default {\n\tgetSecuritiesForMarketAndBoard({ market, board }){\n\t\treturn axios.get(`http://iss.moex.com/iss/engines/stock/markets/${market}/boards/${board}/securities.json`).then((response) => {\n\n\t\t\tif (response.status !== 200){\n\t\t\t\treturn Promise.reject(response.statusText);\n\t\t\t}\n\n\t\t\tconst { securities, marketdata } = response.data;\n\n\t\t\tlet mappedSecurities = [];\n\n\t\t\t_.each(securities.data, (securityValues) => {\n\t\t\t\tconst obj = mapValuesAndColumns(securityValues, securities.columns);\n\t\t\t\tmappedSecurities.push({ id: obj.SECID, details: _.omit(obj, 'SECID'), marketData: {} });\n\t\t\t});\n\n\t\t\t_.each(marketdata.data, (marketDataValues) => {\n\n\t\t\t\tconst obj = mapValuesAndColumns(marketDataValues, marketdata.columns);\n\t\t\t\tconst security = _.find(mappedSecurities, s => s.id === obj.SECID);\n\t\t\t\tsecurity.marketData = obj;\n\n\t\t\t});\n\n\t\t\treturn mappedSecurities;\n\n\t\t});\n\t},\n\tgetBond(secid){\n\n\t\treturn Promise.all([\n\t\t\taxios.get(`http://iss.moex.com/iss/securities/${secid}.json`).then((response) => {\n\t\t\t\tif (response.status !== 200){\n\t\t\t\t\treturn Promise.reject(response.statusText);\n\t\t\t\t}\n\n\t\t\t\tconst { description, boards } = response.data;\n\n\t\t\t\tconst info = _.reduce(description.data, (acc, el) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...acc,\n\t\t\t\t\t\t[el[0]]: el[2]\n\t\t\t\t\t};\n\t\t\t\t}, {});\n\n\t\t\t\tconst boardsData = _.reduce(boards.data, (acc, el) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...acc,\n\t\t\t\t\t\t[el[1]]: mapValuesAndColumns(el, boards.columns)\n\t\t\t\t\t};\n\t\t\t\t}, {});\n\n\t\t\t\treturn { info, boards: boardsData }\n\n\t\t\t}),\n\t\t\taxios.get(`http://iss.moex.com/iss/statistics/engines/stock/markets/bonds/bondization/${secid}.json`, {\n\t\t\t\tparams: {\n\t\t\t\t\tstart: 0,\n\t\t\t\t\tlimit: 100,\n\t\t\t\t\t'iss.meta': 'off',\n\t\t\t\t\t'sort_order': 'asc'\n\t\t\t\t}\n\t\t\t}).then((response) => {\n\t\t\t\tif (response.status !== 200){\n\t\t\t\t\treturn Promise.reject(response.statusText);\n\t\t\t\t}\n\t\t\t\tconst { amortizations, coupons, offers } = response.data;\n\n\t\t\t\t//TODO: check cursors (if we loaded all data)\n\n\t\t\t\tconst payments = { amortizations: [], coupons: [], offers: [] };\n\n\t\t\t\t_.each(amortizations.data, a => {\n\n\t\t\t\t\tconst item = getSelectedKeys(\n\t\t\t\t\t\t['amortdate', 'initialfacevalue', 'value', 'data_source'],\n\t\t\t\t\t\tamortizations.columns, a);\n\t\t\t\t\tpayments.amortizations.push(item);\n\n\t\t\t\t});\n\n\t\t\t\t_.each(coupons.data, a => {\n\n\t\t\t\t\tconst item = getSelectedKeys(['coupondate', 'recorddate', 'startdate', 'facevalue', 'initialfacevalue', 'value', 'data_source'], coupons.columns, a);\n\t\t\t\t\tpayments.coupons.push(item);\n\n\t\t\t\t});\n\n\t\t\t\t_.each(offers.data, a => {\n\n\t\t\t\t\tconst item = getSelectedKeys(['offerdate', 'offerdatestart', 'offerdateend', 'facevalue', 'price', 'value', 'agent', 'offertype'], offers.columns, a);\n\t\t\t\t\tpayments.offers.push(item);\n\n\t\t\t\t});\n\n\t\t\t\treturn payments;\n\t\t\t})\n\t\t]).then(([{ info, boards}, payments]) => {\n\t\t\treturn { id: secid, info, boards, payments };\n\t\t});\n\t},\n\tgetBoardsForMarket(market){\n\t\treturn axios.get(`http://iss.moex.com/iss/engines/stock/markets/${market}/boards.json`).then((response) => {\n\n\t\t\tif (response.status !== 200){\n\t\t\t\treturn Promise.reject(response.statusText);\n\t\t\t}\n\n\t\t\tconst { boards } = response.data;\n\n\t\t\tconst mappedBoards = [];\n\n\t\t\t_.each(boards.data, (boardValues) => {\n\t\t\t\tmappedBoards.push(mapValuesAndColumns(boardValues, boards.columns));\n\t\t\t});\n\t\t\treturn mappedBoards;\n\t\t});\n\t},\n\tgetShare(secid){\n\t\treturn Promise.all([\n\t\t\taxios.get(`http://iss.moex.com/iss/securities/${secid}.json`).then((response) => {\n\t\t\t\tif (response.status !== 200){\n\t\t\t\t\treturn Promise.reject(response.statusText);\n\t\t\t\t}\n\n\t\t\t\tconst { description, boards } = response.data;\n\n\t\t\t\tconst info = _.reduce(description.data, (acc, el) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...acc,\n\t\t\t\t\t\t[el[0]]: el[2]\n\t\t\t\t\t};\n\t\t\t\t}, {});\n\n\t\t\t\tconst boardsData = _.reduce(boards.data, (acc, el) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...acc,\n\t\t\t\t\t\t[el[1]]: mapValuesAndColumns(el, boards.columns)\n\t\t\t\t\t};\n\t\t\t\t}, {});\n\n\t\t\t\treturn { info, boards: boardsData }\n\n\t\t\t})\n\t\t]).then(([{ info, boards}]) => {\n\t\t\treturn { id: secid, info, boards };\n\t\t});\n\t}\n};","export default {\n\tstate: {\n\t\tbonds: {\n\t\t\tfilter: {\n\t\t\t\tboard: 'TQOB'\n\t\t\t},\n\t\t\tsearchText: '',\n\t\t\tcurrentPage: 1,\n\t\t\tperPage: 20,\n\t\t\tsortBy: 'marketData.YIELD',//'YIELD',\n\t\t\tsortDesc: true,\n\t\t\tkind: 'federal'\n\t\t}\n\t},\n\tmutations: {\n\t\t'layout.bonds.filter.board'(state, value){\n\t\t\tstate.bonds.filter.board = value;\n\t\t},\n\t\t'layout.bonds.searchText'(state, value){\n\t\t\tstate.bonds.searchText = value;\n\t\t},\n\t\t'layout.bonds.currentPage'(state, value){\n\t\t\tstate.bonds.currentPage = value;\n\t\t},\n\t\t'layout.bonds.perPage'(state, value){\n\t\t\tstate.bonds.perPage = value;\n\t\t},\n\t\t'layout.bonds.sortBy'(state, value){\n\t\t\tstate.bonds.sortBy = value;\n\t\t},\n\t\t'layout.bonds.sortDesc'(state, value){\n\t\t\tstate.bonds.sortDesc = value;\n\t\t},\n\t\t'layout.bonds.kind'(state, value){\n\t\t\tstate.bonds.kind = value;\n\t\t}\n\t}\n}","var map = {\n\t\"./af\": \"2bfb\",\n\t\"./af.js\": \"2bfb\",\n\t\"./ar\": \"8e73\",\n\t\"./ar-dz\": \"a356\",\n\t\"./ar-dz.js\": \"a356\",\n\t\"./ar-kw\": \"423e\",\n\t\"./ar-kw.js\": \"423e\",\n\t\"./ar-ly\": \"1cfd\",\n\t\"./ar-ly.js\": \"1cfd\",\n\t\"./ar-ma\": \"0a84\",\n\t\"./ar-ma.js\": \"0a84\",\n\t\"./ar-sa\": \"8230\",\n\t\"./ar-sa.js\": \"8230\",\n\t\"./ar-tn\": \"6d83\",\n\t\"./ar-tn.js\": \"6d83\",\n\t\"./ar.js\": \"8e73\",\n\t\"./az\": \"485c\",\n\t\"./az.js\": \"485c\",\n\t\"./be\": \"1fc1\",\n\t\"./be.js\": \"1fc1\",\n\t\"./bg\": \"84aa\",\n\t\"./bg.js\": \"84aa\",\n\t\"./bm\": \"a7fa\",\n\t\"./bm.js\": \"a7fa\",\n\t\"./bn\": \"9043\",\n\t\"./bn.js\": \"9043\",\n\t\"./bo\": \"d26a\",\n\t\"./bo.js\": \"d26a\",\n\t\"./br\": \"6887\",\n\t\"./br.js\": \"6887\",\n\t\"./bs\": \"2554\",\n\t\"./bs.js\": \"2554\",\n\t\"./ca\": \"d716\",\n\t\"./ca.js\": \"d716\",\n\t\"./cs\": \"3c0d\",\n\t\"./cs.js\": \"3c0d\",\n\t\"./cv\": \"03ec\",\n\t\"./cv.js\": \"03ec\",\n\t\"./cy\": \"9797\",\n\t\"./cy.js\": \"9797\",\n\t\"./da\": \"0f14\",\n\t\"./da.js\": \"0f14\",\n\t\"./de\": \"b469\",\n\t\"./de-at\": \"b3eb\",\n\t\"./de-at.js\": \"b3eb\",\n\t\"./de-ch\": \"bb71\",\n\t\"./de-ch.js\": \"bb71\",\n\t\"./de.js\": \"b469\",\n\t\"./dv\": \"598a\",\n\t\"./dv.js\": \"598a\",\n\t\"./el\": \"8d47\",\n\t\"./el.js\": \"8d47\",\n\t\"./en-SG\": \"cdab\",\n\t\"./en-SG.js\": \"cdab\",\n\t\"./en-au\": \"0e6b\",\n\t\"./en-au.js\": \"0e6b\",\n\t\"./en-ca\": \"3886\",\n\t\"./en-ca.js\": \"3886\",\n\t\"./en-gb\": \"39a6\",\n\t\"./en-gb.js\": \"39a6\",\n\t\"./en-ie\": \"e1d3\",\n\t\"./en-ie.js\": \"e1d3\",\n\t\"./en-il\": \"7333\",\n\t\"./en-il.js\": \"7333\",\n\t\"./en-nz\": \"6f50\",\n\t\"./en-nz.js\": \"6f50\",\n\t\"./eo\": \"65db\",\n\t\"./eo.js\": \"65db\",\n\t\"./es\": \"898b\",\n\t\"./es-do\": \"0a3c\",\n\t\"./es-do.js\": \"0a3c\",\n\t\"./es-us\": \"55c9\",\n\t\"./es-us.js\": \"55c9\",\n\t\"./es.js\": \"898b\",\n\t\"./et\": \"ec18\",\n\t\"./et.js\": \"ec18\",\n\t\"./eu\": \"0ff2\",\n\t\"./eu.js\": \"0ff2\",\n\t\"./fa\": \"8df4\",\n\t\"./fa.js\": \"8df4\",\n\t\"./fi\": \"81e9\",\n\t\"./fi.js\": \"81e9\",\n\t\"./fo\": \"0721\",\n\t\"./fo.js\": \"0721\",\n\t\"./fr\": \"9f26\",\n\t\"./fr-ca\": \"d9f8\",\n\t\"./fr-ca.js\": \"d9f8\",\n\t\"./fr-ch\": \"0e49\",\n\t\"./fr-ch.js\": \"0e49\",\n\t\"./fr.js\": \"9f26\",\n\t\"./fy\": \"7118\",\n\t\"./fy.js\": \"7118\",\n\t\"./ga\": \"5120\",\n\t\"./ga.js\": \"5120\",\n\t\"./gd\": \"f6b4\",\n\t\"./gd.js\": \"f6b4\",\n\t\"./gl\": \"8840\",\n\t\"./gl.js\": \"8840\",\n\t\"./gom-latn\": \"0caa\",\n\t\"./gom-latn.js\": \"0caa\",\n\t\"./gu\": \"e0c5\",\n\t\"./gu.js\": \"e0c5\",\n\t\"./he\": \"c7aa\",\n\t\"./he.js\": \"c7aa\",\n\t\"./hi\": \"dc4d\",\n\t\"./hi.js\": \"dc4d\",\n\t\"./hr\": \"4ba9\",\n\t\"./hr.js\": \"4ba9\",\n\t\"./hu\": \"5b14\",\n\t\"./hu.js\": \"5b14\",\n\t\"./hy-am\": \"d6b6\",\n\t\"./hy-am.js\": \"d6b6\",\n\t\"./id\": \"5038\",\n\t\"./id.js\": \"5038\",\n\t\"./is\": \"0558\",\n\t\"./is.js\": \"0558\",\n\t\"./it\": \"6e98\",\n\t\"./it-ch\": \"6f12\",\n\t\"./it-ch.js\": \"6f12\",\n\t\"./it.js\": \"6e98\",\n\t\"./ja\": \"079e\",\n\t\"./ja.js\": \"079e\",\n\t\"./jv\": \"b540\",\n\t\"./jv.js\": \"b540\",\n\t\"./ka\": \"201b\",\n\t\"./ka.js\": \"201b\",\n\t\"./kk\": \"6d79\",\n\t\"./kk.js\": \"6d79\",\n\t\"./km\": \"e81d\",\n\t\"./km.js\": \"e81d\",\n\t\"./kn\": \"3e92\",\n\t\"./kn.js\": \"3e92\",\n\t\"./ko\": \"22f8\",\n\t\"./ko.js\": \"22f8\",\n\t\"./ku\": \"2421\",\n\t\"./ku.js\": \"2421\",\n\t\"./ky\": \"9609\",\n\t\"./ky.js\": \"9609\",\n\t\"./lb\": \"440c\",\n\t\"./lb.js\": \"440c\",\n\t\"./lo\": \"b29d\",\n\t\"./lo.js\": \"b29d\",\n\t\"./lt\": \"26f9\",\n\t\"./lt.js\": \"26f9\",\n\t\"./lv\": \"b97c\",\n\t\"./lv.js\": \"b97c\",\n\t\"./me\": \"293c\",\n\t\"./me.js\": \"293c\",\n\t\"./mi\": \"688b\",\n\t\"./mi.js\": \"688b\",\n\t\"./mk\": \"6909\",\n\t\"./mk.js\": \"6909\",\n\t\"./ml\": \"02fb\",\n\t\"./ml.js\": \"02fb\",\n\t\"./mn\": \"958b\",\n\t\"./mn.js\": \"958b\",\n\t\"./mr\": \"39bd\",\n\t\"./mr.js\": \"39bd\",\n\t\"./ms\": \"ebe4\",\n\t\"./ms-my\": \"6403\",\n\t\"./ms-my.js\": \"6403\",\n\t\"./ms.js\": \"ebe4\",\n\t\"./mt\": \"1b45\",\n\t\"./mt.js\": \"1b45\",\n\t\"./my\": \"8689\",\n\t\"./my.js\": \"8689\",\n\t\"./nb\": \"6ce3\",\n\t\"./nb.js\": \"6ce3\",\n\t\"./ne\": \"3a39\",\n\t\"./ne.js\": \"3a39\",\n\t\"./nl\": \"facd\",\n\t\"./nl-be\": \"db29\",\n\t\"./nl-be.js\": \"db29\",\n\t\"./nl.js\": \"facd\",\n\t\"./nn\": \"b84c\",\n\t\"./nn.js\": \"b84c\",\n\t\"./pa-in\": \"f3ff\",\n\t\"./pa-in.js\": \"f3ff\",\n\t\"./pl\": \"8d57\",\n\t\"./pl.js\": \"8d57\",\n\t\"./pt\": \"f260\",\n\t\"./pt-br\": \"d2d4\",\n\t\"./pt-br.js\": \"d2d4\",\n\t\"./pt.js\": \"f260\",\n\t\"./ro\": \"972c\",\n\t\"./ro.js\": \"972c\",\n\t\"./ru\": \"957c\",\n\t\"./ru.js\": \"957c\",\n\t\"./sd\": \"6784\",\n\t\"./sd.js\": \"6784\",\n\t\"./se\": \"ffff\",\n\t\"./se.js\": \"ffff\",\n\t\"./si\": \"eda5\",\n\t\"./si.js\": \"eda5\",\n\t\"./sk\": \"7be6\",\n\t\"./sk.js\": \"7be6\",\n\t\"./sl\": \"8155\",\n\t\"./sl.js\": \"8155\",\n\t\"./sq\": \"c8f3\",\n\t\"./sq.js\": \"c8f3\",\n\t\"./sr\": \"cf1e\",\n\t\"./sr-cyrl\": \"13e9\",\n\t\"./sr-cyrl.js\": \"13e9\",\n\t\"./sr.js\": \"cf1e\",\n\t\"./ss\": \"52bd\",\n\t\"./ss.js\": \"52bd\",\n\t\"./sv\": \"5fbd\",\n\t\"./sv.js\": \"5fbd\",\n\t\"./sw\": \"74dc\",\n\t\"./sw.js\": \"74dc\",\n\t\"./ta\": \"3de5\",\n\t\"./ta.js\": \"3de5\",\n\t\"./te\": \"5cbb\",\n\t\"./te.js\": \"5cbb\",\n\t\"./tet\": \"576c\",\n\t\"./tet.js\": \"576c\",\n\t\"./tg\": \"3b1b\",\n\t\"./tg.js\": \"3b1b\",\n\t\"./th\": \"10e8\",\n\t\"./th.js\": \"10e8\",\n\t\"./tl-ph\": \"0f38\",\n\t\"./tl-ph.js\": \"0f38\",\n\t\"./tlh\": \"cf75\",\n\t\"./tlh.js\": \"cf75\",\n\t\"./tr\": \"0e81\",\n\t\"./tr.js\": \"0e81\",\n\t\"./tzl\": \"cf51\",\n\t\"./tzl.js\": \"cf51\",\n\t\"./tzm\": \"c109\",\n\t\"./tzm-latn\": \"b53d\",\n\t\"./tzm-latn.js\": \"b53d\",\n\t\"./tzm.js\": \"c109\",\n\t\"./ug-cn\": \"6117\",\n\t\"./ug-cn.js\": \"6117\",\n\t\"./uk\": \"ada2\",\n\t\"./uk.js\": \"ada2\",\n\t\"./ur\": \"5294\",\n\t\"./ur.js\": \"5294\",\n\t\"./uz\": \"2e8c\",\n\t\"./uz-latn\": \"010e\",\n\t\"./uz-latn.js\": \"010e\",\n\t\"./uz.js\": \"2e8c\",\n\t\"./vi\": \"2921\",\n\t\"./vi.js\": \"2921\",\n\t\"./x-pseudo\": \"fd7e\",\n\t\"./x-pseudo.js\": \"fd7e\",\n\t\"./yo\": \"7f33\",\n\t\"./yo.js\": \"7f33\",\n\t\"./zh-cn\": \"5c3a\",\n\t\"./zh-cn.js\": \"5c3a\",\n\t\"./zh-hk\": \"49ab\",\n\t\"./zh-hk.js\": \"49ab\",\n\t\"./zh-tw\": \"90ea\",\n\t\"./zh-tw.js\": \"90ea\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"4678\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{attrs:{\"id\":\"nav\"}},[_c('router-link',{attrs:{\"to\":\"/bonds\"}},[_vm._v(\"Облигации\")]),_vm._v(\" |\\n    \"),_c('router-link',{attrs:{\"to\":\"/shares\"}},[_vm._v(\"Акции\")]),_vm._v(\" |\\n    \"),_c('router-link',{attrs:{\"to\":\"/portfolio\"}},[_vm._v(\"Портфель\")])],1),_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=38c2a13d&\"\nvar script = {}\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{staticClass:\"bonds\",attrs:{\"fluid\":\"\"}},[_c('b-form',[_c('b-form-row',{staticClass:\"mb-2\"},[_c('b-col',{attrs:{\"cols\":\"auto\"}},[_c('b-form-select',{attrs:{\"options\":_vm.bondBoards},model:{value:(_vm.board),callback:function ($$v) {_vm.board=$$v},expression:\"board\"}})],1),_c('b-col',[_c('b-form-input',{attrs:{\"placeholder\":\"Поиск...\"},model:{value:(_vm.searchText),callback:function ($$v) {_vm.searchText=$$v},expression:\"searchText\"}})],1),_c('b-col',{attrs:{\"cols\":\"auto\"}},[_c('b-button',{staticClass:\"btn btn-success\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.exportData($event)}}},[_c('fa-icon',{attrs:{\"icon\":\"file-excel\"}}),_c('span',{staticClass:\"ml-2\"},[_vm._v(\"Экспорт в Excel\")])],1)],1)],1)],1),_c('b-table',{attrs:{\"striped\":\"\",\"hover\":\"\",\"id\":\"bonds\",\"busy\":_vm.loading,\"no-local-sorting\":true,\"fields\":_vm.fields,\"sort-by\":_vm.sortBy,\"sort-desc\":_vm.sortDesc,\"items\":_vm.itemsVisible,\"small\":\"\"},on:{\"row-clicked\":_vm.viewItem,\"update:sortBy\":function($event){_vm.sortBy=$event},\"update:sort-by\":function($event){_vm.sortBy=$event},\"update:sortDesc\":function($event){_vm.sortDesc=$event},\"update:sort-desc\":function($event){_vm.sortDesc=$event}}},[_c('div',{staticClass:\"text-center text-success my-2\",attrs:{\"slot\":\"table-busy\"},slot:\"table-busy\"},[_c('b-spinner',{staticClass:\"align-middle\"}),_c('strong',[_vm._v(\"Загрузка...\")])],1)]),_c('b-row',[_c('b-col',[_c('b-pagination',{attrs:{\"per-page\":_vm.perPage,\"total-rows\":_vm.rows},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-container fluid class=\"bonds\">\n\t  <b-form>\n\t\t  <b-form-row class=\"mb-2\">\n\t\t\t  <b-col cols=\"auto\">\n\t\t\t\t  <b-form-select\n\t\t\t\t\t\t  v-model=\"board\"\n\t\t\t\t\t\t  :options=\"bondBoards\"\n\t\t\t\t  ></b-form-select>\n\t\t\t  </b-col>\n\t\t\t  <b-col>\n\t\t\t\t  <b-form-input\n\t\t\t\t\t\t  v-model=\"searchText\"\n\t\t\t\t\t\t  placeholder=\"Поиск...\"/>\n\t\t\t  </b-col>\n\t\t\t  <b-col cols=\"auto\">\n\t\t\t\t  <b-button class=\"btn btn-success\" @click.stop.prevent=\"exportData\">\n\t\t\t\t\t  <fa-icon icon=\"file-excel\"></fa-icon>\n\t\t\t\t\t  <span class=\"ml-2\">Экспорт в Excel</span>\n\t\t\t\t  </b-button>\n\t\t\t  </b-col>\n\t\t  </b-form-row>\n\t  </b-form>\n\t  <b-table striped hover\n\t\t\t   @row-clicked=\"viewItem\"\n\t\t\t   id=\"bonds\"\n\t\t\t   :busy=\"loading\"\n\t\t\t   :no-local-sorting=\"true\"\n\t\t\t   :fields=\"fields\"\n\t\t\t   :sort-by.sync=\"sortBy\"\n\t\t\t   :sort-desc.sync=\"sortDesc\"\n\t\t\t   :items=\"itemsVisible\" small>\n\t\t  <div slot=\"table-busy\" class=\"text-center text-success my-2\">\n\t\t\t  <b-spinner class=\"align-middle\" />\n\t\t\t  <strong>Загрузка...</strong>\n\t\t  </div>\n\t  </b-table>\n\t  <b-row>\n\t\t  <b-col>\n\t\t\t  <b-pagination\n\t\t\t\t\t  v-model=\"currentPage\"\n\t\t\t\t\t  :per-page=\"perPage\"\n\t\t\t\t\t  :total-rows=\"rows\">\n\n\t\t\t  </b-pagination>\n\t\t  </b-col>\n\t  </b-row>\n  </b-container>\n</template>\n\n<script>\n\timport moment from 'moment';\n\timport _ from 'lodash';\n\timport BButton from 'bootstrap-vue/src/components/button/button';\n\timport XLSX from 'xlsx';\n\timport BContainer from 'bootstrap-vue/src/components/layout/container';\n\timport BCol from 'bootstrap-vue/src/components/layout/col';\n\timport BTable from 'bootstrap-vue/src/components/table/table';\n\timport BForm from 'bootstrap-vue/src/components/form/form';\n\timport BFormInput from 'bootstrap-vue/src/components/form-input/form-input';\n\timport BFormRow from 'bootstrap-vue/src/components/layout/form-row';\n\timport BSpinner from 'bootstrap-vue/src/components/spinner/spinner';\n\timport BFormSelect from 'bootstrap-vue/src/components/form-select/form-select';\n\timport BPagination from 'bootstrap-vue/src/components/pagination/pagination';\n\timport BRow from 'bootstrap-vue/src/components/layout/row';\n\n\tconst units = {\n\t\tSUR: '₽',\n\t\tUSD: '$',\n\t\tEUR: '€'\n\t};\n\n\texport default {\n\t\tname: 'Bonds',\n\t\tcomponents: {\n\t\t\tBRow,\n\t\t\tBPagination, BFormSelect, BSpinner, BFormRow, BFormInput, BForm, BTable, BCol, BContainer, BButton },\n\t\tdata(){\n\t\t\treturn {\n\t\t\t\tusefulBoards: [\n\t\t\t\t\t{ value: 'TQOB', text: 'Т+: Облигации - безадрес.' },\n\t\t\t\t\t{ value: 'TQOD', text: 'Т+: Облигации (USD) - безадрес.' },\n\t\t\t\t\t{ value: 'EQOB', text: 'Т0 Облигации - безадрес.' },\n\t\t\t\t\t{ value: 'EQDB', text: 'Основной режим: Облигации Д - безадрес.' },\n\t\t\t\t\t{ value: 'EQEO', text: 'Основной режим: Облигации (EUR) - безадрес.' }\n\t\t\t\t],\n\t\t\t\tfields: [\n\t\t\t\t\t{ key: 'details.BOARDID', label: 'Режим', formatter: (value, key, item) => item.details.BOARDID, sortable: true },\n\t\t\t\t\t{ key: 'details.SHORTNAME', label: 'Название', formatter: (value, key, item) => item.details.SHORTNAME, sortable: true },\n\t\t\t\t\t{ key: 'marketData.YIELD', label: 'Доходность', formatter: (value, key, item) => item.marketData.YIELD, sortable: true },\n\t\t\t\t\t{ key: 'details.COUPONVALUE', label: 'Купон', formatter: (value, key, item) => item.details.COUPONVALUE, sortable: true },\n\t\t\t\t\t{ key: 'details.NEXTCOUPON', label: 'Дата купона', formatter: (value, key, item) => moment(item.details.NEXTCOUPON).format('DD.MM.YYYY'), sortable: true },\n\t\t\t\t\t{ key: 'details.MATDATE', label: 'Дата погашения', formatter: (value, key, item) => moment(item.details.MATDATE).format('DD.MM.YYYY'), sortable: true },\n\t\t\t\t\t{ key: 'details.COUPONPERCENT', label: 'Купон %', formatter: (value, key, item) => item.details.COUPONPERCENT, sortable: true },\n\t\t\t\t\t{ key: 'details.COUPONPERIOD', label: 'Период выплаты', formatter: (value, key, item) => item.details.COUPONPERIOD, sortable: true },\n\t\t\t\t\t{ key: 'marketData.MARKETPRICE', label: 'Рыночная цена', formatter: (value, key, item) => item.marketData.MARKETPRICE, sortable: true },\n\t\t\t\t\t{ key: 'lot', label: 'Лот', formatter: (value, key, item) => `${item.details.LOTSIZE * item.details.FACEVALUE} ${units[item.details.FACEUNIT]}`, sortable: true },\n\t\t\t\t\t{ key: 'details.ISIN', label: 'ISIN', formatter: (value, key, item) => item.details.ISIN, sortable: true }\n\t\t\t\t],\n\t\t\t\tbondsGroups: [\n\t\t\t\t\t{ value: 'custom', text: 'Режим торгов' },\n\t\t\t\t\t{ value: 'federal', text: 'ОФЗ' },\n\t\t\t\t\t{ value: 'municipal', text: 'Муниципальный' },\n\t\t\t\t\t{ value: 'corporate', text: 'Корпоративные' },\n\t\t\t\t\t{ value: 'euroFederal', text: 'ЕвроГос' },\n\t\t\t\t\t{ value: 'euro', text: 'Еврооблигации' }\n\t\t\t\t]\n\t\t\t};\n\t\t},\n\t\tcomputed: {\n\t\t\tloading(){\n\t\t\t\treturn this.$store.state.bonds.loading;\n\t\t\t},\n\t\t\tboard: {\n\t\t\t\tget(){\n\t\t\t\t\treturn this.$store.state.bonds.selectedBoard;\n\t\t\t\t},\n\t\t\t\tset(value){\n\t\t\t\t\tthis.$store.dispatch('changeBondsSelectedBoard', value);\n\t\t\t\t}\n\t\t\t},\n\t\t\tsearchText: {\n\t\t\t\tget(){\n\t\t\t\t\treturn this.$store.state.bonds.searchText;\n\t\t\t\t},\n\t\t\t\tset(value){\n\t\t\t\t\tthis.$store.commit('bonds.searchText', value);\n\t\t\t\t}\n\t\t\t},\n\t\t\tcurrentPage: {\n\t\t\t\tget(){\n\t\t\t\t\treturn this.$store.state.bonds.currentPage;\n\t\t\t\t},\n\t\t\t\tset(value){\n\t\t\t\t\tthis.$store.commit('bonds.currentPage', value);\n\t\t\t\t}\n\t\t\t},\n\t\t\tperPage: {\n\t\t\t\tget(){\n\t\t\t\t\treturn this.$store.state.bonds.perPage;\n\t\t\t\t},\n\t\t\t\tset(value){\n\t\t\t\t\tthis.$store.commit('bonds.perPage', value);\n\t\t\t\t}\n\t\t\t},\n\t\t\tsortBy: {\n\t\t\t\tget(){\n\t\t\t\t\treturn this.$store.state.bonds.sortBy;\n\t\t\t\t},\n\t\t\t\tset(value){\n\t\t\t\t\tthis.$store.commit('bonds.sortBy', value);\n\t\t\t\t}\n\t\t\t},\n\t\t\tsortDesc: {\n\t\t\t\tget(){\n\t\t\t\t\treturn this.$store.state.bonds.sortDesc;\n\t\t\t\t},\n\t\t\t\tset(value){\n\t\t\t\t\tthis.$store.commit('shares.sortDesc', value);\n\t\t\t\t}\n\t\t\t},\n\t\t\titems(){\n\t\t\t\treturn this.$store.getters.bonds;\n\t\t\t},\n\t\t\titemsFiltered(){\n\t\t\t\tlet items = this.items;\n\n\t\t\t\tif (this.searchText){\n\t\t\t\t\tconst regex = new RegExp(`${this.searchText}`, 'i');\n\t\t\t\t\titems = _.filter(items, b => regex.test(b.details.SHORTNAME) || regex.test(b.details.SECNAME) || regex.test(b.details.ISIN)  );\n\t\t\t\t}\n\n\t\t\t\tif (this.sortBy !== 'lot'){\n\t\t\t\t\titems = _.orderBy(items, [this.sortBy], [this.sortDesc ? 'desc': 'asc']);\n\t\t\t\t} else {\n\t\t\t\t\titems = _.orderBy(items, [(el) => el.details.LOTSIZE * el.details.FACEVALUE], [this.sortDesc ? 'desc': 'asc']);\n\t\t\t\t}\n\t\t\t\treturn items;\n\t\t\t},\n\t\t\titemsVisible(){\n\t\t\t\tconst start = (this.currentPage - 1) * this.perPage;\n\t\t\t\treturn this.itemsFiltered.slice(start, start + this.perPage);\n\t\t\t},\n\t\t\trows(){\n\t\t\t\treturn this.itemsFiltered.length;\n\t\t\t},\n\t\t\tbondBoards(){\n\t\t\t\treturn _.map(this.$store.getters.bondsBoards, b => ({ value: b.boardid, text: b.title }));\n\t\t\t}\n\t\t},\n\t\tcreated(){\n\t\t\t// this.loading = true;\n\t\t\t// this.$store.dispatch('bonds.list').then(() => {\n\t\t\t// \tthis.loading = false;\n\t\t\t// });\n\t\t\tthis.$store.dispatch('getBonds');\n\t\t\tthis.$store.dispatch('getBondsBoards');\n\t\t},\n\t\twatch: {\n\t\t\t'filter.board'() {\n\t\t\t\tthis.currentPage = 1;\n\t\t\t},\n\t\t\tsearchText(){\n\t\t\t\tthis.currentPage = 1;\n\t\t\t},\n\t\t\tsortBy(value){\n\t\t\t\tconsole.log('sort by: ', value);\n\t\t\t},\n\t\t\tsortDesc(value){\n\t\t\t\tconsole.log('sort Desc: ', value);\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\texportData(){\n\t\t\t\tif (this.bonds.length === 0){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst workbook = XLSX.utils.book_new();\n\t\t\t\tconst new_ws_name = 'Облигации';\n\n\t\t\t\tconst keys = _.keys(_.first(this.bonds));\n\n\t\t\t\tconst isoDateRegex = /\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{3}Z/;\n\n\t\t\t\tconst ws_data = [\n\t\t\t\t\tkeys,\n\t\t\t\t\t..._.map(this.bonds, item => {\n\t\t\t\t\t\treturn _.map(keys, key => {\n\t\t\t\t\t\t\tif (_.isObject(item[key]) || _.isArray(item[key])){\n\t\t\t\t\t\t\t\treturn JSON.stringify(item[key]);\n\t\t\t\t\t\t\t} else if (_.isString(item[key]) && isoDateRegex.test(item[key])){\n\t\t\t\t\t\t\t\treturn new Date(item[key]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn item[key];\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t];\n\t\t\t\tconst ws = XLSX.utils.aoa_to_sheet(ws_data);\n\n\t\t\t\t/* Add the worksheet to the workbook */\n\t\t\t\tXLSX.utils.book_append_sheet(workbook, ws, new_ws_name);\n\n\t\t\t\tXLSX.writeFile(workbook, 'Облигации.xlsx');\n\n\t\t\t},\n\t\t\tviewItem(item){\n\t\t\t\tthis.$router.push({ name: 'viewBond', params: { secid: item.id, board: item.details.BOARDID } });\n\t\t\t}\n\t\t}\n\t};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BondsAlternate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BondsAlternate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BondsAlternate.vue?vue&type=template&id=836d31b8&\"\nimport script from \"./BondsAlternate.vue?vue&type=script&lang=js&\"\nexport * from \"./BondsAlternate.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{staticClass:\"bonds\"},[_c('b-row',{staticClass:\"mb-3\"},[_c('b-col',{attrs:{\"cols\":\"auto\"}},[_c('b-button',{attrs:{\"variant\":\"outline-primary\"},on:{\"click\":_vm.addToPortfolio}},[_c('fa-icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"briefcase\"}}),_c('span',[_vm._v(\"Добавить в портфель\")])],1)],1)],1),_c('b-row',[_c('b-col',{attrs:{\"cols\":\"8\"}},[_c('b-tabs',[_c('b-tab',{class:{ active: _vm.selectedSection == 'details' },attrs:{\"title\":\"Общие сведения\"},on:{\"click\":function($event){_vm.selectedSection = 'details'}}},[_c('b-table',{attrs:{\"striped\":\"\",\"hover\":\"\",\"items\":_vm.details}})],1),_c('b-tab',{class:{ active: _vm.selectedSection == 'marketData' },attrs:{\"title\":\"Рыночная информация\"},on:{\"click\":function($event){_vm.selectedSection = 'marketData'}}},[_c('b-table',{attrs:{\"striped\":\"\",\"hover\":\"\",\"items\":_vm.marketData}})],1),_c('b-tab',{class:{ active: _vm.selectedSection == 'calculateYield' },attrs:{\"title\":\"Расчет доходности\"},on:{\"click\":function($event){_vm.selectedSection = 'calculateYield'}}},[_c('b-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.calculateYield($event)}}},[_c('b-form-group',{attrs:{\"label\":\"Цена\"}},[_c('b-form-input',{attrs:{\"id\":\"input-1\",\"type\":\"number\",\"step\":\"any\",\"placeholder\":\"100%\"},model:{value:(_vm.targetPrice),callback:function ($$v) {_vm.targetPrice=$$v},expression:\"targetPrice\"}})],1),_c('b-button',{attrs:{\"type\":\"submit\",\"variant\":\"primary\"}},[_vm._v(\"Рассчитать\")])],1),_c('div',[_vm._v(\"Доходность: \"+_vm._s(_vm.effectiveYield))]),_c('div',[_vm._v(\"НКД: \"+_vm._s(_vm.nkd))])],1)],1)],1),_c('b-col',{attrs:{\"cols\":\"4\"}},[_c('b-tabs',[_c('b-tab',{class:{ active: _vm.selectedTab == 'coupons' },attrs:{\"title\":\"Купоны\"},on:{\"click\":function($event){_vm.selectedTab = 'coupons'}}},[_c('b-table',{attrs:{\"striped\":\"\",\"hover\":\"\",\"tbody-tr-class\":_vm.couponRowClass,\"fields\":_vm.couponsFields,\"items\":_vm.coupons}})],1),_c('b-tab',{class:{ active: _vm.selectedTab == 'amortizations' },attrs:{\"title\":\"Амортизации\"},on:{\"click\":function($event){_vm.selectedTab = 'amortizations'}}},[_c('b-table',{attrs:{\"striped\":\"\",\"hover\":\"\",\"tbody-tr-class\":_vm.amortizationRowClass,\"items\":_vm.amortizations,\"fields\":_vm.amortizationsFields}})],1),_c('b-tab',{class:{ active: _vm.selectedTab == 'offers' },attrs:{\"title\":\"Оферты\"},on:{\"click\":function($event){_vm.selectedTab = 'offers'}}},[_c('b-table',{attrs:{\"striped\":\"\",\"hover\":\"\",\"items\":_vm.offers}})],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import moment from 'moment';\nimport _ from 'lodash';\n\nconst PRECITION = 0.00001;\n\nexport default {\n\troundFloat(value, decimals){\n\t\tconst multiplier = Math.pow(10, decimals);\n\t\treturn Math.round(value * multiplier) / multiplier;\n\t},\n\n\txiff(price, periods, rate = 0){\n\n\t\tconst firstPeriod = moment(); //moment(_.first(periods).date);\n\n\t\tlet p = 0;\n\n\t\tconst periodLengths = _.map(periods, () => 0);\n\n\t\tfor (let i = 0; i < periods.length; i += 1){\n\t\t\tconst periodLength = moment(periods[i].date).diff(firstPeriod, 'days') / 365;\n\t\t\tperiodLengths[i] = periodLength;\n\t\t\tp +=  periods[i].amount / Math.pow(1 + rate, periodLength);\n\t\t}\n\n\t\tp -= price;\n\n\t\tif (p < 0){\n\n\t\t\tdo {\n\t\t\t\trate = rate - PRECITION;\n\t\t\t\tp = 0;\n\t\t\t\tfor (let i = 0; i < periods.length; i += 1){\n\t\t\t\t\tp += periods[i].amount / Math.pow(1 + rate, periodLengths[i]);\n\t\t\t\t}\n\t\t\t\tp -= price;\n\t\t\t} while (p <= 0);\n\n\t\t} else {\n\t\t\tdo {\n\t\t\t\trate = rate + PRECITION;\n\t\t\t\tp = 0;\n\t\t\t\tfor (let i = 0; i < periods.length; i += 1){\n\t\t\t\t\tp += periods[i].amount / Math.pow(1 + rate, periodLengths[i]);\n\t\t\t\t}\n\t\t\t\tp -= price;\n\t\t\t} while (p >= 0);\n\t\t}\n\n\t\treturn rate;\n\n\n\t},\n\n\tcalculateNKD(date, bond){\n\t\tdate = moment(date);\n\t\tlet previous = _.first(bond.payments.coupons);\n\t\tlet current = null;\n\t\tfor (let i = 1; i < bond.payments.coupons.length; i += 1){\n\t\t\tcurrent = bond.payments.coupons[i];\n\t\t\tif (moment(current.coupondate).diff(date, 'days') > 0){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tprevious = current;\n\t\t}\n\n\t\tconst elapsed = date.diff(previous.coupondate, 'days');\n\t\tconst periodLength = moment(current.coupondate).diff(previous.coupondate, 'days');\n\n\t\treturn this.roundFloat(current.value * elapsed / periodLength, 2);\n\n\t},\n\n\tcalculateYieldForPrice(price, fromDate, bond){\n\n\t\tfromDate = fromDate.getTime();\n\n\t\tlet amortizations = bond.payments.amortizations;\n\t\tif (amortizations.length > 1){\n\t\t\t// Has amortizations\n\t\t\tamortizations = _.filter(bond.payments.amortizations, el => {\n\t\t\t\treturn moment(el.amortdate).valueOf() > fromDate && el.data_source === 'amortization';\n\t\t\t});\n\t\t}\n\n\t\tamortizations = _.map(amortizations, el => {\n\t\t\treturn {\n\t\t\t\tdate: moment(el.amortdate).valueOf(),\n\t\t\t\tamount: el.value\n\t\t\t}\n\t\t});\n\t\tamortizations = _.sortBy(amortizations, 'date');\n\n\t\tlet coupons = _.filter(bond.payments.coupons, el => {\n\t\t\treturn moment(el.coupondate).valueOf() > fromDate;\n\t\t});\n\t\tcoupons = _.map(coupons, el => {\n\t\t\treturn {\n\t\t\t\tdate: moment(el.coupondate).valueOf(),\n\t\t\t\tamount: el.value\n\t\t\t}\n\t\t});\n\t\tcoupons = _.sortBy(coupons, 'date');\n\n\t\tlet payments = [...amortizations, ...coupons];\n\t\tpayments = _.groupBy(payments, 'date');\n\n\t\tconst dates = _.sortBy(_.keys(payments));\n\n\t\tpayments = _.map(dates, key => {\n\t\t\treturn {\n\t\t\t\tdate: moment(parseInt(key, 10)),\n\t\t\t\tamount: _.reduce(payments[key], (acc, el) => acc + el.amount, 0)\n\t\t\t}\n\t\t});\n\n\t\tconst faceValue = parseFloat(bond.info.FACEVALUE);\n\t\tlet totalPrice = faceValue * price / 100;\n\t\tlet nkd = this.calculateNKD(fromDate, bond);\n\n\n\t\tconst yieldToMaturity = this.xiff(totalPrice + nkd, payments, bond.marketData.YIELD);\n\t\treturn { nkd, yieldToMaturity: this.roundFloat(100 * yieldToMaturity, 2) };\n\n\t},\n\n\tgetBondPaymentsForPeriod({ bond, from, to }){\n\t\tif (!bond || !bond.payments || !from || !to){\n\t\t\treturn [];\n\t\t}\n\n\t\tconst { amortizations, coupons } = bond.payments;\n\n\t\tif (!amortizations || !coupons){\n\t\t\treturn [];\n\t\t}\n\n\t\tfrom = moment(from).toDate();\n\t\tto = moment(to).toDate();\n\n\t\tconst payments = [];\n\n\t\tfor (let coupon of coupons){\n\n\t\t\tconst date = moment(coupon.coupondate).toDate();\n\n\t\t\tif (date >= from && date < to){\n\t\t\t\tpayments.push({\n\t\t\t\t\tdate,\n\t\t\t\t\ttype: 'coupon',\n\t\t\t\t\tvalue: coupon.value\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t// Бумага без амортизации\n\t\tif (amortizations.length === 1){\n\t\t\tconst  matDate = moment(amortizations[0].amortdate).toDate();\n\t\t\tif (matDate >= from && matDate < to){\n\t\t\t\tpayments.push({\n\t\t\t\t\tdate,\n\t\t\t\t\ttype: 'amortization',\n\t\t\t\t\tvalue: amortizations[0].value\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tfor (let item of amortizations){\n\t\t\t\tif (item.data_source === 'maturation'){\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tconst date = moment(item.amortdate).toDate();\n\n\t\t\t\tif (date >= from && date < to){\n\t\t\t\t\tpayments.push({\n\t\t\t\t\t\tdate,\n\t\t\t\t\t\ttype: 'amortization',\n\t\t\t\t\t\tvalue: item.value\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn payments;\n\t},\n\n\tcalculateOwnershipForPayments({ payments, orders }){\n\n\t\tconst mappedOrders = _.map(orders, o => {\n\t\t\treturn {\n\t\t\t\tdate: moment(o.purchaseDate).toDate(),\n\t\t\t\tamount: o.amount\n\t\t\t};\n\t\t});\n\n\t\tfor (let payment of payments){\n\n\t\t\tconst validOrders = _.filter(mappedOrders, o => o.date <= payment.date);\n\t\t\tconst totalAmount = _.reduce(validOrders, (acc, o) => acc + o.amount, 0);\n\n\t\t\tpayment.amount = totalAmount;\n\t\t\tpayment.total = payment.value * totalAmount;\n\n\t\t}\n\n\t}\n};","<template>\n  <b-container class=\"bonds\">\n\n\t  <b-row class=\"mb-3\">\n\t\t  <b-col cols=\"auto\">\n\t\t\t  <b-button variant=\"outline-primary\" @click=\"addToPortfolio\">\n\t\t\t\t  <fa-icon class=\"mr-2\" icon=\"briefcase\"></fa-icon>\n\t\t\t\t  <span>Добавить в портфель</span>\n\t\t\t  </b-button>\n\t\t  </b-col>\n\t  </b-row>\n\t  <b-row>\n\t\t  <b-col cols=\"8\">\n\t\t\t  <b-tabs>\n\t\t\t\t  <b-tab title=\"Общие сведения\"\n\t\t\t\t\t\t :class=\"{ active: selectedSection == 'details' }\"\n\t\t\t\t\t\t @click=\"selectedSection = 'details'\">\n\t\t\t\t\t  <b-table striped hover :items=\"details\"></b-table>\n\t\t\t\t  </b-tab>\n\t\t\t\t  <b-tab title=\"Рыночная информация\"\n\t\t\t\t\t\t :class=\"{ active: selectedSection == 'marketData' }\"\n\t\t\t\t\t\t @click=\"selectedSection = 'marketData'\">\n\t\t\t\t\t  <b-table striped hover :items=\"marketData\"></b-table>\n\t\t\t\t  </b-tab>\n\t\t\t\t  <b-tab title=\"Расчет доходности\"\n\t\t\t\t\t\t :class=\"{ active: selectedSection == 'calculateYield' }\"\n\t\t\t\t\t\t @click=\"selectedSection = 'calculateYield'\">\n\t\t\t\t\t  <b-form @submit.prevent=\"calculateYield\">\n\n\t\t\t\t\t\t  <b-form-group label=\"Цена\">\n\t\t\t\t\t\t\t  <b-form-input\n\t\t\t\t\t\t\t\t\t  id=\"input-1\"\n\t\t\t\t\t\t\t\t\t  v-model=\"targetPrice\"\n\t\t\t\t\t\t\t\t\t  type=\"number\"\n\t\t\t\t\t\t\t\t\t  step=\"any\"\n\t\t\t\t\t\t\t\t\t  placeholder=\"100%\"\n\t\t\t\t\t\t\t  ></b-form-input>\n\t\t\t\t\t\t  </b-form-group>\n\n\t\t\t\t\t\t  <b-button type=\"submit\" variant=\"primary\">Рассчитать</b-button>\n\t\t\t\t\t  </b-form>\n\n\t\t\t\t\t  <div>Доходность: {{ effectiveYield }}</div>\n\t\t\t\t\t  <div>НКД: {{ nkd }}</div>\n\n\t\t\t\t  </b-tab>\n\t\t\t  </b-tabs>\n\n\n\t\t  </b-col>\n\t\t  <b-col cols=\"4\">\n\t\t\t  <b-tabs>\n\t\t\t\t  <b-tab title=\"Купоны\"\n\t\t\t\t\t\t @click=\"selectedTab = 'coupons'\"\n\t\t\t\t\t\t :class=\"{ active: selectedTab == 'coupons' }\">\n\t\t\t\t\t  <b-table striped hover\n\t\t\t\t\t\t\t   :tbody-tr-class=\"couponRowClass\"\n\t\t\t\t\t\t\t   :fields=\"couponsFields\"\n\t\t\t\t\t\t\t   :items=\"coupons\"></b-table>\n\t\t\t\t  </b-tab>\n\t\t\t\t  <b-tab title=\"Амортизации\"\n\t\t\t\t\t\t @click=\"selectedTab = 'amortizations'\"\n\t\t\t\t\t\t :class=\"{ active: selectedTab == 'amortizations' }\">\n\t\t\t\t\t  <b-table striped hover\n\t\t\t\t\t\t\t   :tbody-tr-class=\"amortizationRowClass\"\n\t\t\t\t\t\t\t   :items=\"amortizations\"\n\t\t\t\t\t\t\t   :fields=\"amortizationsFields\"></b-table>\n\t\t\t\t  </b-tab>\n\t\t\t\t  <b-tab title=\"Оферты\"\n\t\t\t\t\t\t @click=\"selectedTab = 'offers'\"\n\t\t\t\t\t\t :class=\"{ active: selectedTab == 'offers' }\">\n\t\t\t\t\t  <b-table striped hover\n\t\t\t\t\t\t\t   :items=\"offers\"></b-table>\n\t\t\t\t  </b-tab>\n\t\t\t  </b-tabs>\n\t\t  </b-col>\n\t  </b-row>\n  </b-container>\n</template>\n\n<script>\n\timport moment from 'moment';\n\timport _ from 'lodash';\n\timport helpers from '../../js/helpers';\n\n\timport BTable from 'bootstrap-vue/src/components/table/table';\n\timport BRow from 'bootstrap-vue/src/components/layout/row';\n\timport BCol from 'bootstrap-vue/src/components/layout/col';\n\timport BButton from 'bootstrap-vue/src/components/button/button';\n\timport BTabs from 'bootstrap-vue/src/components/tabs/tabs';\n\timport BTab from 'bootstrap-vue/src/components/tabs/tab';\n\timport BForm from 'bootstrap-vue/src/components/form/form';\n\timport BFormGroup from 'bootstrap-vue/src/components/form-group/form-group';\n\timport BFormInput from 'bootstrap-vue/src/components/form-input/form-input';\n\n\n\texport default {\n\t\tname: 'ViewBond',\n\t\tcomponents: {BFormInput, BFormGroup, BForm, BTab, BTabs, BButton, BCol, BRow, BTable},\n\t\tdata(){\n\t\t\treturn {\n\t\t\t\tparams: {\n\t\t\t\t\tisin: null,\n\t\t\t\t\tname: null,\n\t\t\t\t\tnextCouponDate: moment(),\n\t\t\t\t\tmaturationDate: moment(),\n\t\t\t\t\tfrequency: 2,\n\t\t\t\t\tcoupon: 0,\n\t\t\t\t\tpricePercent: 100,\n\t\t\t\t\tfaceValue: 1000, // face value\n\t\t\t\t\trate: 0,\n\t\t\t\t\tperiods: [],\n\t\t\t\t\tYTM: null,\n\t\t\t\t\thasAmortization: false,\n\t\t\t\t\tamortizations: []\n\t\t\t\t},\n\t\t\t\tfields: [\n\t\t\t\t\t{ key: 'date', label: 'Дата', formatter:(value) => moment(value).format('DD.MM.YYYY')  },\n\t\t\t\t\t{ key: 'money', label: 'Купон', formatter: 'roundFloat'  },\n\t\t\t\t\t{ key: 'price', label: 'Цена', formatter: 'roundFloat'  },\n\t\t\t\t\t{ key: 'nkd', label: 'НКД', formatter: 'roundFloat'  },\n\t\t\t\t\t{ key: 'amortization', label: 'Амортизация'}\n\t\t\t\t],\n\t\t\t\tmoneyFlowFields: [\n\t\t\t\t\t{ key: 'date', formatter: (value) => moment(value).format('DD.MM.YYYY') },\n\t\t\t\t\t{ key: 'coupon' },\n\t\t\t\t\t{ key: 'period' }\n\t\t\t\t],\n\t\t\t\tselectedTab: 'coupons',\n\t\t\t\tamortizationsFields: [\n\t\t\t\t\t{ key: 'amortdate', label: 'Дата', formatter: (value) => moment(value).format('DD.MM.YYYY') },\n\t\t\t\t\t{ key: 'value', label: 'Значение' },\n\t\t\t\t\t{ key: 'data_source', label: 'Тип' }\n\t\t\t\t],\n\t\t\t\tcouponsFields: [\n\t\t\t\t\t{ key: 'coupondate', label: 'Дата', formatter: (value) => moment(value).format('DD.MM.YYYY') },\n\t\t\t\t\t{ key: 'value', label: 'Значение' }\n\t\t\t\t],\n\t\t\t\tselectedSection: 'calculateYield',\n\t\t\t\ttargetPrice: 100,\n\t\t\t\teffectiveYield: 0,\n\t\t\t\tnkd: 0\n\t\t\t};\n\t\t},\n\t\tcomputed: {\n\t\t\tsecid(){\n\t\t\t\treturn this.$route.params.secid;\n\t\t\t},\n\t\t\tboard(){\n\t\t\t\treturn this.$route.params.board;\n\t\t\t},\n\t\t\titem(){\n\t\t\t\treturn this.$store.getters.bondsCache[this.secid];\n\t\t\t\t//return this.$store.getters.bondsCache[this.secid] && this.$store.getters.bondsCache[this.secid].boards[this.board];\n\t\t\t},\n\t\t\tdetails(){\n\t\t\t\treturn this.item && _.map(_.keys(this.item.info), key => ({ key, value: this.item.info[key] }));\n\t\t\t},\n\t\t\tmarketData(){\n\t\t\t\treturn this.item && this.item.boards[this.board] &&  _.map(_.keys(this.item.boards[this.board]), key => ({ key, value: this.item.boards[this.board][key] }));\n\t\t\t},\n\t\t\tamortizations(){\n\t\t\t\treturn this.item && this.item.payments && this.item.payments.amortizations;\n\t\t\t},\n\t\t\tcoupons(){\n\t\t\t\treturn this.item && this.item.payments && this.item.payments.coupons;\n\t\t\t},\n\t\t\toffers(){\n\t\t\t\treturn this.item && this.item.payments && this.item.payments.offers;\n\t\t\t},\n\t\t\tclosestAmortizationDate(){\n\t\t\t\tconst now = Date.now();\n\t\t\t\tfor (let amort of this.amortizations){\n\t\t\t\t\tif (moment(amort.amortdate).valueOf() >= now){\n\t\t\t\t\t\treturn amort.amortdate;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t},\n\t\t\tclosestCouponDate(){\n\t\t\t\tconst now = Date.now();\n\t\t\t\tfor (let el of this.coupons){\n\t\t\t\t\tif (moment(el.coupondate).valueOf() >= now){\n\t\t\t\t\t\treturn el.coupondate;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\t// moneyFlow(){\n\t\t\t// \tif (this.item){\n\t\t\t// \t\treturn helpers.getCouponMoneyFlowForBond({ startDate: new Date(), bond: this.item });\n\t\t\t// \t}\n\t\t\t// \treturn [];\n\t\t\t// }\n\t\t},\n\t\tcreated(){\n\t\t\tif (this.secid){\n\t\t\t\tthis.$store.dispatch('getBond', this.secid);\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\taddToPortfolio(){\n\t\t\t\tthis.$store.dispatch('addOrder', { secid: this.secid, market: 'bonds' }).then((item) => {\n\t\t\t\t\tthis.$router.push({ name: 'editPortfolio', params: { id: item.id } });\n\t\t\t\t});\n\n\t\t\t},\n\t\t\tamortizationRowClass(item){\n\t\t\t\tif (!item) return;\n\t\t\t\tif (item.amortdate === this.closestAmortizationDate){\n\t\t\t\t\treturn 'table-success';\n\t\t\t\t}\n\t\t\t},\n\t\t\tcouponRowClass(item){\n\t\t\t\tif (!item) return;\n\t\t\t\tif (item.coupondate === this.closestCouponDate){\n\t\t\t\t\treturn 'table-success';\n\t\t\t\t}\n\t\t\t},\n\t\t\tcalculateYield(){\n\t\t\t\tconst { yieldToMaturity, nkd } = helpers.calculateYieldForPrice(this.targetPrice, new Date(), this.item);\n\t\t\t\tthis.effectiveYield = yieldToMaturity;\n\t\t\t\tthis.nkd = nkd;\n\t\t\t}\n\t\t}\n\t};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewBond.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewBond.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ViewBond.vue?vue&type=template&id=090fa35f&\"\nimport script from \"./ViewBond.vue?vue&type=script&lang=js&\"\nexport * from \"./ViewBond.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{attrs:{\"fluid\":\"\"}},[_c('b-row',[_c('b-col',{attrs:{\"cols\":\"auto\"}},[_c('b-pagination',{attrs:{\"total-rows\":_vm.rows,\"per-page\":_vm.perPage},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1),_c('b-col',{attrs:{\"cols\":\"auto\"}},[_c('b-form-select',{attrs:{\"options\":_vm.sharesBoards},model:{value:(_vm.board),callback:function ($$v) {_vm.board=$$v},expression:\"board\"}})],1),_c('b-col',[_c('b-form-input',{attrs:{\"placeholder\":\"Поиск...\"},model:{value:(_vm.searchText),callback:function ($$v) {_vm.searchText=$$v},expression:\"searchText\"}})],1),_c('b-col',{attrs:{\"cols\":\"auto\"}},[_c('b-button',{staticClass:\"btn btn-success\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.exportData($event)}}},[_c('fa-icon',{attrs:{\"icon\":\"file-excel\"}}),_c('span',{staticClass:\"ml-2\"},[_vm._v(\"Экспорт в Excel\")])],1)],1)],1),_c('b-table',{attrs:{\"striped\":\"\",\"hover\":\"\",\"id\":\"shares\",\"busy\":_vm.loading,\"no-local-sorting\":true,\"fields\":_vm.fields,\"sort-by\":_vm.sortBy,\"sort-desc\":_vm.sortDesc,\"items\":_vm.itemsVisible,\"small\":\"\"},on:{\"row-clicked\":_vm.viewItem,\"update:sortBy\":function($event){_vm.sortBy=$event},\"update:sort-by\":function($event){_vm.sortBy=$event},\"update:sortDesc\":function($event){_vm.sortDesc=$event},\"update:sort-desc\":function($event){_vm.sortDesc=$event}}},[_c('div',{staticClass:\"text-center text-success my-2\",attrs:{\"slot\":\"table-busy\"},slot:\"table-busy\"},[_c('b-spinner',{staticClass:\"align-middle\"}),_c('strong',[_vm._v(\"Загрузка...\")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<b-container fluid>\n\t\t<b-row>\n\t\t\t<b-col cols=\"auto\">\n\t\t\t\t<b-pagination\n\t\t\t\t\t\tv-model=\"currentPage\"\n\t\t\t\t\t\t:total-rows=\"rows\"\n\t\t\t\t\t\t:per-page=\"perPage\"/>\n\t\t\t</b-col>\n\t\t\t<b-col cols=\"auto\">\n\t\t\t\t<b-form-select\n\t\t\t\t\t\tv-model=\"board\"\n\t\t\t\t\t\t:options=\"sharesBoards\"\n\t\t\t\t></b-form-select>\n\t\t\t</b-col>\n\t\t\t<b-col>\n\t\t\t\t<b-form-input\n\t\t\t\t\t\tv-model=\"searchText\"\n\t\t\t\t\t\tplaceholder=\"Поиск...\"/>\n\t\t\t</b-col>\n\t\t\t<b-col cols=\"auto\">\n\t\t\t\t<b-button class=\"btn btn-success\" @click.stop.prevent=\"exportData\">\n\t\t\t\t\t<fa-icon icon=\"file-excel\"></fa-icon>\n\t\t\t\t\t<span class=\"ml-2\">Экспорт в Excel</span>\n\t\t\t\t</b-button>\n\t\t\t</b-col>\n\t\t</b-row>\n\t\t<b-table striped hover\n\t\t\t\t @row-clicked=\"viewItem\"\n\t\t\t\t id=\"shares\"\n\t\t\t\t :busy=\"loading\"\n\t\t\t\t :no-local-sorting=\"true\"\n\t\t\t\t :fields=\"fields\"\n\t\t\t\t :sort-by.sync=\"sortBy\"\n\t\t\t\t :sort-desc.sync=\"sortDesc\"\n\t\t\t\t :items=\"itemsVisible\" small>\n\t\t\t<div slot=\"table-busy\" class=\"text-center text-success my-2\">\n\t\t\t\t<b-spinner class=\"align-middle\" />\n\t\t\t\t<strong>Загрузка...</strong>\n\t\t\t</div>\n\t\t</b-table>\n\t</b-container>\n</template>\n\n<script>\n\timport _ from 'lodash';\n\n\timport BContainer from 'bootstrap-vue/src/components/layout/container';\n\timport BTable from 'bootstrap-vue/src/components/table/table';\n\timport BPagination from 'bootstrap-vue/src/components/pagination/pagination';\n\timport BRow from 'bootstrap-vue/src/components/layout/row';\n\timport BCol from 'bootstrap-vue/src/components/layout/col';\n\timport BFormSelect from 'bootstrap-vue/src/components/form-select/form-select';\n\timport BFormInput from 'bootstrap-vue/src/components/form-input/form-input';\n\timport BButton from 'bootstrap-vue/src/components/button/button';\n\n\tconst units = {\n\t\tSUR: '₽',\n\t\tUSD: '$',\n\t\tEUR: '€'\n\t};\n\n\n\texport default {\n\t\tname: 'Shares',\n\t\tcomponents: {BButton, BFormInput, BFormSelect, BCol, BRow, BPagination, BTable, BContainer},\n\t\tdata(){\n\t\t\treturn {\n\t\t\t\t// fields: [\n\t\t\t\t// \t{ key: 'SECID' },\n\t\t\t\t// \t{ key: 'SHORTNAME' },\n\t\t\t\t// \t{ key: 'SECNAME' },\n\t\t\t\t// \t{ key: 'PREVPRICE' },\n\t\t\t\t// \t{ key: 'LOTSIZE' },\n\t\t\t\t// \t{ key: 'ISIN' },\n\t\t\t\t// \t{ key: 'LISTLEVEL' },\n\t\t\t\t// \t{ key: 'VALUE' },\n\t\t\t\t// \t{ key: 'MARKETPRICE' }\n\t\t\t\t// ]\n\t\t\t\tfields: [\n\t\t\t\t\t{ key: 'details.BOARDID', label: 'Режим', formatter: (value, key, item) => item.details.BOARDID, sortable: true },\n\t\t\t\t\t{ key: 'details.SHORTNAME', label: 'Название', formatter: (value, key, item) => item.details.SHORTNAME, sortable: true },\n\t\t\t\t\t{ key: 'marketData.MARKETPRICE', label: 'Рыночная цена', formatter: (value, key, item) => item.marketData.MARKETPRICE, sortable: true },\n\t\t\t\t\t{ key: 'lot', label: 'Лот', formatter: (value, key, item) => `${item.details.LOTSIZE * item.details.FACEVALUE} ${units[item.details.FACEUNIT]}`, sortable: true },\n\t\t\t\t\t{ key: 'details.ISIN', label: 'ISIN', formatter: (value, key, item) => item.details.ISIN, sortable: true }\n\t\t\t\t],\n\t\t\t};\n\t\t},\n\t\tcomputed: {\n\t\t\titems(){\n\t\t\t\treturn this.$store.getters.shares;\n\t\t\t},\n\t\t\titemsFiltered(){\n\t\t\t\tlet items = this.items;\n\t\t\t\tif (this.searchText){\n\t\t\t\t\tconst regex = new RegExp(`${this.searchText}`, 'i');\n\t\t\t\t\titems = _.filter(items, b => regex.test(b.SHORTNAME) );\n\t\t\t\t}\n\t\t\t\titems = _.orderBy(items, [this.sortBy], [this.sortDesc ? 'desc': 'asc']);\n\t\t\t\treturn items;\n\t\t\t},\n\t\t\titemsVisible(){\n\t\t\t\tconst start = (this.currentPage - 1) * this.perPage;\n\t\t\t\treturn this.itemsFiltered.slice(start, start + this.perPage);\n\t\t\t},\n\t\t\trows(){\n\t\t\t\treturn this.itemsFiltered.length;\n\t\t\t},\n\t\t\tsharesBoards(){\n\t\t\t\treturn _.map(this.$store.getters.sharesBoards, b => ({ value: b.boardid, text: b.title }));\n\t\t\t},\n\t\t\tloading(){\n\t\t\t\treturn this.$store.state.bonds.loading;\n\t\t\t},\n\t\t\tboard: {\n\t\t\t\tget(){\n\t\t\t\t\treturn this.$store.state.shares.selectedBoard;\n\t\t\t\t},\n\t\t\t\tset(value){\n\t\t\t\t\tthis.$store.dispatch('changeSharesSelectedBoard', value);\n\t\t\t\t}\n\t\t\t},\n\t\t\tsearchText: {\n\t\t\t\tget(){\n\t\t\t\t\treturn this.$store.state.shares.searchText;\n\t\t\t\t},\n\t\t\t\tset(value){\n\t\t\t\t\tthis.$store.commit('shares.searchText', value);\n\t\t\t\t}\n\t\t\t},\n\t\t\tcurrentPage: {\n\t\t\t\tget(){\n\t\t\t\t\treturn this.$store.state.shares.currentPage;\n\t\t\t\t},\n\t\t\t\tset(value){\n\t\t\t\t\tthis.$store.commit('shares.currentPage', value);\n\t\t\t\t}\n\t\t\t},\n\t\t\tperPage: {\n\t\t\t\tget(){\n\t\t\t\t\treturn this.$store.state.shares.perPage;\n\t\t\t\t},\n\t\t\t\tset(value){\n\t\t\t\t\tthis.$store.commit('shares.perPage', value);\n\t\t\t\t}\n\t\t\t},\n\t\t\tsortBy: {\n\t\t\t\tget(){\n\t\t\t\t\treturn this.$store.state.shares.sortBy;\n\t\t\t\t},\n\t\t\t\tset(value){\n\t\t\t\t\tthis.$store.commit('shares.sortBy', value);\n\t\t\t\t}\n\t\t\t},\n\t\t\tsortDesc: {\n\t\t\t\tget(){\n\t\t\t\t\treturn this.$store.state.shares.sortDesc;\n\t\t\t\t},\n\t\t\t\tset(value){\n\t\t\t\t\tthis.$store.commit('shares.sortDesc', value);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\twatch: {\n\t\t\t'filter.board'() {\n\t\t\t\tthis.currentPage = 1;\n\t\t\t},\n\t\t\tsearchText(){\n\t\t\t\tthis.currentPage = 1;\n\t\t\t}\n\t\t},\n\t\tcreated(){\n\t\t\tthis.$store.dispatch('getShares');\n\t\t\tthis.$store.dispatch('getSharesBoards');\n\t\t},\n\t\tmethods:{\n\t\t\tviewItem(item){\n\t\t\t\tthis.$router.push({ name: 'viewShare', params: { secid: item.SECID } });\n\t\t\t}\n\t\t}\n\t};\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Shares.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Shares.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Shares.vue?vue&type=template&id=0c58df28&scoped=true&\"\nimport script from \"./Shares.vue?vue&type=script&lang=js&\"\nexport * from \"./Shares.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0c58df28\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\"div\")}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t\n</template>\n\n<script>\n\texport default {\n\t\tname: 'ViewShare'\n\t};\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewShare.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewShare.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ViewShare.vue?vue&type=template&id=29d062d8&scoped=true&\"\nimport script from \"./ViewShare.vue?vue&type=script&lang=js&\"\nexport * from \"./ViewShare.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"29d062d8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',[(_vm.item)?_c('b-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.save($event)}}},[_c('b-row',[_c('b-col',{attrs:{\"cols\":\"8\"}},[_c('b-form-group',{attrs:{\"id\":\"amountGroup\",\"label\":\"Количество:\",\"label-for\":\"amount\"}},[_c('b-form-input',{attrs:{\"id\":\"amount\",\"type\":\"number\"},model:{value:(_vm.item.amount),callback:function ($$v) {_vm.$set(_vm.item, \"amount\", _vm._n($$v))},expression:\"item.amount\"}})],1),_c('b-form-group',{attrs:{\"id\":\"priceGroup\",\"label\":\"Цена покупки:\",\"label-for\":\"price\"}},[_c('b-form-input',{attrs:{\"step\":\"any\",\"id\":\"price\",\"type\":\"number\"},model:{value:(_vm.item.price),callback:function ($$v) {_vm.$set(_vm.item, \"price\", _vm._n($$v))},expression:\"item.price\"}})],1),_c('b-form-group',{attrs:{\"id\":\"purchaseDateGroup\",\"label\":\"Дата покупки:\",\"label-for\":\"purchaseDate\"}},[_c('datepicker',{attrs:{\"id\":\"purchaseDate\",\"value\":_vm.purchaseDate,\"format\":\"dd.MM.yyyy\",\"name\":\"purchaseDate\"},on:{\"input\":function($event){return _vm.setDate('purchaseDate', $event)}}})],1),_c('b-button',{staticClass:\"mt-4\",attrs:{\"type\":\"submit\",\"variant\":\"primary\"}},[_vm._v(\"Сохранить\")]),_c('b-button',{staticClass:\"mt-4 ml-2\",attrs:{\"type\":\"button\",\"variant\":\"danger\"},on:{\"click\":_vm.deleteItem}},[_vm._v(\"Удалить\")])],1),_c('b-col',{attrs:{\"cols\":\"4\"}},[_c('div',[_vm._v(\"Инструмент: \"+_vm._s(_vm.bond.SHORTNAME))])])],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<b-container>\n\t\t<b-form v-if=\"item\" @submit.prevent=\"save\">\n\t\t\t<b-row>\n\t\t\t\t<b-col cols=\"8\">\n\t\t\t\t\t<b-form-group\n\t\t\t\t\t\t\tid=\"amountGroup\"\n\t\t\t\t\t\t\tlabel=\"Количество:\"\n\t\t\t\t\t\t\tlabel-for=\"amount\">\n\t\t\t\t\t\t<b-form-input\n\t\t\t\t\t\t\t\tid=\"amount\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tv-model.number=\"item.amount\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</b-form-group>\n\t\t\t\t\t<b-form-group\n\t\t\t\t\t\t\tid=\"priceGroup\"\n\t\t\t\t\t\t\tlabel=\"Цена покупки:\"\n\t\t\t\t\t\t\tlabel-for=\"price\">\n\t\t\t\t\t\t<b-form-input\n\t\t\t\t\t\t\t\tstep=\"any\"\n\t\t\t\t\t\t\t\tid=\"price\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tv-model.number=\"item.price\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</b-form-group>\n\t\t\t\t\t<b-form-group\n\t\t\t\t\t\t\tid=\"purchaseDateGroup\"\n\t\t\t\t\t\t\tlabel=\"Дата покупки:\"\n\t\t\t\t\t\t\tlabel-for=\"purchaseDate\">\n\t\t\t\t\t\t<datepicker id=\"purchaseDate\" :value=\"purchaseDate\" format=\"dd.MM.yyyy\"\n\t\t\t\t\t\t\t\t\t@input=\"setDate('purchaseDate', $event)\"\n\t\t\t\t\t\t\t\t\tname=\"purchaseDate\"></datepicker>\n\t\t\t\t\t</b-form-group>\n\t\t\t\t\t<b-button class=\"mt-4\" type=\"submit\" variant=\"primary\">Сохранить</b-button>\n\t\t\t\t\t<b-button class=\"mt-4 ml-2\" type=\"button\" variant=\"danger\" @click=\"deleteItem\">Удалить</b-button>\n\t\t\t\t</b-col>\n\t\t\t\t<b-col cols=\"4\">\n\t\t\t\t\t<div>Инструмент: {{ bond.SHORTNAME }}</div>\n\n\t\t\t\t</b-col>\n\t\t\t</b-row>\n\t\t</b-form>\n\t</b-container>\n</template>\n\n<script>\n\timport Datepicker from 'vuejs-datepicker';\n\timport moment from 'moment';\n\timport helpers from '../../js/helpers';\n\n\texport default {\n\t\tname: 'EditPortfolioOrder',\n\t\tcomponents: { Datepicker },\n\t\tdata(){\n\t\t\treturn {\n\t\t\t\titem: null,\n\t\t\t\tflowFields: [\n\t\t\t\t\t{ key: 'date', formatter:(value) => moment(value).format('DD.MM.YYYY') },\n\t\t\t\t\t{ key: 'coupon', formatter:(value) => Math.round(value * 100) / 100 }\n\t\t\t\t]\n\t\t\t};\n\t\t},\n\t\tcomputed: {\n\t\t\tid(){\n\t\t\t\treturn this.$route.params.id;\n\t\t\t},\n\t\t\tbond(){\n\t\t\t\treturn this.$store.getters.bondsCache[this.item.secid] || {};\n\t\t\t},\n\t\t\tnextCouponDate(){\n\t\t\t\tlet currentDate = moment(this.bond.maturationDate);\n\t\t\t\tlet previousDate = currentDate;\n\t\t\t\tconst now = moment();\n\t\t\t\tconst period = Math.floor(365/this.bond.frequency);\n\t\t\t\twhile(currentDate.diff(now, 'days') > 0){\n\t\t\t\t\tpreviousDate = moment(currentDate);\n\t\t\t\t\tcurrentDate = currentDate.add(-1*period, 'days');\n\t\t\t\t}\n\t\t\t\treturn previousDate.format('DD.MM.YYYY');\n\t\t\t},\n\t\t\tpurchaseDate(){\n\t\t\t\treturn this.item.purchaseDate && moment(this.item.purchaseDate).toDate();\n\t\t\t}\n\t\t},\n\t\tcreated(){\n\t\t\tthis.$store.dispatch('getOrder', this.id).then((item) => {\n\t\t\t\tthis.item = _.extend({ price: 0 }, item);\n\t\t\t\tthis.$store.dispatch('bonds.get', item.secid);\n\t\t\t});\n\n\t\t},\n\t\tmethods: {\n\t\t\tsetDate(field, value){\n\t\t\t\tthis.item[field] = moment(value).toDate();\n\t\t\t},\n\t\t\tsave(){\n\t\t\t\tthis.$store.dispatch('updateOrder', this.item).then(() => {\n\t\t\t\t\tthis.$router.push('/portfolio');\n\t\t\t\t});\n\t\t\t},\n\t\t\tdeleteItem(){\n\t\t\t\tthis.$store.dispatch('deleteOrder', this.item.id).then(() => {\n\t\t\t\t\tthis.$router.push('/portfolio');\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n</script>\n\n<style>\n\n\t.hidden_header {\n\t\tdisplay: none;\n\t}\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditPortfolioOrder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditPortfolioOrder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditPortfolioOrder.vue?vue&type=template&id=10cc8249&\"\nimport script from \"./EditPortfolioOrder.vue?vue&type=script&lang=js&\"\nexport * from \"./EditPortfolioOrder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditPortfolioOrder.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',[_c('b-row',{staticClass:\"mb-3\"},[_c('b-col',[_c('b-link',{staticClass:\"btn btn-primary ml-2\",attrs:{\"to\":\"/portfolio/fees/new\"}},[_c('fa-icon',{attrs:{\"icon\":\"plus\"}}),_c('span',{staticClass:\"ml-2\"},[_vm._v(\"Новая запись\")])],1)],1),_c('b-col',{attrs:{\"cols\":\"auto\"}},[_vm._v(_vm._s(_vm._f(\"roundFloat\")(_vm.total,2))+\"₽\")])],1),_c('b-table',{attrs:{\"hover\":\"\",\"striped\":\"\",\"fields\":_vm.fields,\"items\":_vm.items},on:{\"row-clicked\":_vm.editItem}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<b-container>\n\t\t<b-row class=\"mb-3\">\n\t\t\t<b-col>\n\t\t\t\t<b-link class=\"btn btn-primary ml-2\" to=\"/portfolio/fees/new\">\n\t\t\t\t\t<fa-icon icon=\"plus\"></fa-icon>\n\t\t\t\t\t<span class=\"ml-2\">Новая запись</span>\n\t\t\t\t</b-link>\n\t\t\t</b-col>\n\t\t\t<b-col cols=\"auto\">{{ total | roundFloat(2) }}₽</b-col>\n\t\t</b-row>\n\t\t<b-table hover striped\n\t\t\t\t @row-clicked=\"editItem\"\n\t\t\t\t :fields=\"fields\"\n\t\t\t\t :items=\"items\"></b-table>\n\t</b-container>\n</template>\n\n<script>\n\timport moment from 'moment';\n\timport BRow from 'bootstrap-vue/src/components/layout/row';\n\timport BCol from 'bootstrap-vue/src/components/layout/col';\n\timport BLink from 'bootstrap-vue/src/components/link/link';\n\timport BTable from 'bootstrap-vue/src/components/table/table';\n\timport BContainer from 'bootstrap-vue/src/components/layout/container';\n\n\texport default {\n\t\tname: 'Fees',\n\t\tcomponents: {BContainer, BTable, BLink, BCol, BRow},\n\t\tdata(){\n\t\t\treturn {\n\t\t\t\tfields: [\n\t\t\t\t\t{ key: 'date', label: 'Дата', formatter: (value) => moment(value).format('DD.MM.YYYY') },\n\t\t\t\t\t{ key: 'amount', label: 'Сумма' },\n\t\t\t\t\t{ key: 'comment', label: 'Коментарий' }\n\t\t\t\t]\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\titems(){\n\t\t\t\treturn this.$store.getters.portfolioFees;\n\t\t\t},\n\t\t\ttotal(){\n\t\t\t\treturn this.$store.getters.portfolioFeesTotal;\n\t\t\t}\n\t\t},\n\t\tcreated(){\n\t\t\tthis.$store.dispatch('getPortfolioFees');\n\t\t},\n\t\tmethods: {\n\t\t\teditItem(item){\n\t\t\t\tthis.$router.push({ name: 'editPortfolioFee', params: { id: item.id } });\n\t\t\t}\n\t\t}\n\t};\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Fees.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Fees.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Fees.vue?vue&type=template&id=2fcb28a0&scoped=true&\"\nimport script from \"./Fees.vue?vue&type=script&lang=js&\"\nexport * from \"./Fees.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2fcb28a0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',[_c('b-row',{staticClass:\"mb-2\"},[_c('b-col',[_vm._v(\"\\n\\t\\t\\tЦена покупки: \"+_vm._s(_vm.totalPurchasePrice)+\"₽\\n\\t\\t\")]),_c('b-col',[_vm._v(\"\\n\\t\\t\\tЦена рыночная: \"+_vm._s(_vm._f(\"roundFloat\")(_vm.totalMarketPrice,2))+\"₽\\n\\t\\t\")]),_c('b-col',[_c('label',{staticClass:\"btn btn-success btn-sm\",attrs:{\"for\":\"file-import\"}},[_c('fa-icon',{attrs:{\"icon\":\"file-excel\"}}),_c('span',{staticClass:\"ml-2\"},[_vm._v(\"Импорт из CSV\")]),_c('input',{ref:\"fileimport\",staticStyle:{\"display\":\"none\"},attrs:{\"id\":\"file-import\",\"type\":\"file\",\"accept\":\".xlsx\"},on:{\"change\":_vm.onFileChange}})],1)])],1),_c('b-table',{attrs:{\"striped\":\"\",\"hover\":\"\",\"items\":_vm.items,\"fields\":_vm.fields},on:{\"row-clicked\":_vm.editItem},scopedSlots:_vm._u([{key:\"actions\",fn:function(data){return [_c('b-link',{attrs:{\"to\":{ name: 'editPortfolio', params: { id: data.item.id } }}},[_vm._v(\"Редактировать\")])]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<b-container>\n\t\t<b-row class=\"mb-2\">\n\t\t\t<b-col>\n\t\t\t\tЦена покупки: {{ totalPurchasePrice }}₽\n\t\t\t</b-col>\n\t\t\t<b-col>\n\t\t\t\tЦена рыночная: {{ totalMarketPrice | roundFloat(2) }}₽\n\t\t\t</b-col>\n\t\t\t<b-col>\n\t\t\t\t<label for=\"file-import\" class=\"btn btn-success btn-sm\">\n\t\t\t\t\t<fa-icon icon=\"file-excel\"></fa-icon>\n\t\t\t\t\t<span class=\"ml-2\">Импорт из CSV</span>\n\t\t\t\t\t<input id=\"file-import\" style=\"display: none\" type=\"file\" ref=\"fileimport\" accept=\".xlsx\" @change=\"onFileChange\">\n\t\t\t\t</label>\n\t\t\t</b-col>\n\t\t</b-row>\n\t\t<b-table striped hover\n\t\t\t\t @row-clicked=\"editItem\"\n\t\t\t\t :items=\"items\"\n\t\t\t\t :fields=\"fields\">\n\t\t\t<template slot=\"actions\" slot-scope=\"data\">\n\t\t\t\t<b-link :to=\"{ name: 'editPortfolio', params: { id: data.item.id } }\">Редактировать</b-link>\n\t\t\t</template>\n\t\t</b-table>\n\t</b-container>\n</template>\n\n<script>\n\timport moment from 'moment';\n\timport XLSX from 'xlsx';\n\n\n\timport BTable from 'bootstrap-vue/src/components/table/table';\n\n\timport BLink from 'bootstrap-vue/src/components/link/link';\n\timport BContainer from 'bootstrap-vue/src/components/layout/container';\n\timport BRow from 'bootstrap-vue/src/components/layout/row';\n\timport BCol from 'bootstrap-vue/src/components/layout/col';\n\n\texport default {\n\t\tname: 'Orders',\n\t\tcomponents: { BCol, BRow, BContainer, BLink, BTable},\n\t\tcomputed: {\n\t\t\titems(){\n\t\t\t\treturn this.$store.getters.portfolioOrders;\n\t\t\t},\n\t\t\ttotalMarketPrice(){\n\t\t\t\treturn this.$store.getters.portfolioOrdersTotalMarketPrice;\n\t\t\t},\n\t\t\ttotalPurchasePrice(){\n\t\t\t\treturn this.$store.getters.portfolioOrdersTotalPurchasePrice;\n\t\t\t}\n\t\t},\n\t\tdata(){\n\t\t\treturn {\n\t\t\t\tfields: [\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: 'secid',\n\t\t\t\t\t\tlabel: 'Инструмент',\n\t\t\t\t\t\tformatter:(value) => {\n\n\t\t\t\t\t\t\t// const bond = this.$store.getters.bondsCache[value];\n\t\t\t\t\t\t\t// if (bond){\n\t\t\t\t\t\t\t// \treturn bond.details.SHORTNAME;\n\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t\t// const share = this.$store.getters.sharesCache[value];\n\t\t\t\t\t\t\t// if (share){\n\t\t\t\t\t\t\t// \treturn share.details.SHORTNAME;\n\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: 'amount', 'label': 'Количество'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: 'purchaseDate', 'label': 'Дата покупки', formatter:(value) => moment(value).format('DD.MM.YYYY')\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: 'price', label: 'Цена покупки'\n\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: 'nkd', label: 'НКД'\n\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: 'totalValue', label: 'Стоимость',\n\t\t\t\t\t\tformatter:(value, key, item) => {\n\t\t\t\t\t\t\treturn item.amount * item.price + item.nkd;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t},{\n\t\t\t\t\t\tkey: 'actions', label: ''\n\t\t\t\t\t}]\n\t\t\t};\n\t\t},\n\t\tcreated(){\n\t\t\tthis.$store.dispatch('getOrders');\n\t\t\tthis.$store.dispatch('bonds.list');\n\t\t\tthis.$store.dispatch('shares.list');\n\t\t},\n\t\tmethods: {\n\t\t\teditItem(item){\n\t\t\t\tthis.$router.push({ name: 'editPortfolioOrder', params: { id: item.id } });\n\t\t\t},\n\t\t\tonFileChange(e){\n\t\t\t\tconst rABS = true;\n\n\t\t\t\tconst files = e.target.files || e.dataTransfer.files;\n\t\t\t\tif (!files){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst importFile = files[0];\n\t\t\t\tconst reader = new FileReader();\n\t\t\t\treader.onload = (e) => {\n\t\t\t\t\tlet data = e.target.result;\n\t\t\t\t\tif(!rABS) data = new Uint8Array(data);\n\t\t\t\t\tconst workbook = XLSX.read(data, {type: rABS ? 'binary' : 'array'});\n\t\t\t\t\tconst sheetName = workbook.SheetNames[0];\n\t\t\t\t\tconst json = XLSX.utils.sheet_to_json(workbook.Sheets[sheetName]);\n\t\t\t\t\tthis.$store.dispatch('importPortfolioOrders', json);\n\t\t\t\t};\n\t\t\t\tif(rABS) reader.readAsBinaryString(importFile); else reader.readAsArrayBuffer(importFile);\n\n\t\t\t}\n\t\t}\n\n\t};\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Orders.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Orders.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Orders.vue?vue&type=template&id=4af85b8a&scoped=true&\"\nimport script from \"./Orders.vue?vue&type=script&lang=js&\"\nexport * from \"./Orders.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4af85b8a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',[_c('b-row',{staticClass:\"mb-2\"},[_c('b-col',[_vm._v(\"\\n\\t\\t\\tЦена рыночная: \"+_vm._s(_vm._f(\"roundFloat\")(_vm.totalMarketPrice,2))+\"₽\\n\\t\\t\")])],1),_c('b-table',{attrs:{\"striped\":\"\",\"hover\":\"\",\"fields\":_vm.fields,\"items\":_vm.items},on:{\"row-clicked\":_vm.viewItem}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<b-container>\n\t\t<b-row class=\"mb-2\">\n\t\t\t<b-col>\n\t\t\t\tЦена рыночная: {{ totalMarketPrice | roundFloat(2) }}₽\n\t\t\t</b-col>\n\t\t</b-row>\n\t\t<b-table striped hover\n\t\t\t\t @row-clicked=\"viewItem\"\n\t\t\t\t :fields=\"fields\"\n\t\t\t\t :items=\"items\">\n\t\t</b-table>\n\t</b-container>\n</template>\n\n<script>\n\timport BTable from 'bootstrap-vue/src/components/table/table';\n\timport BContainer from 'bootstrap-vue/src/components/layout/container';\n\texport default {\n\t\tname: 'Securities',\n\t\tcomponents: {BContainer, BTable},\n\t\tcomputed: {\n\t\t\titems(){\n\t\t\t\treturn this.$store.getters.portfolioSecurities;\n\t\t\t},\n\t\t\ttotalMarketPrice(){\n\t\t\t\treturn this.$store.getters.portfolioOrdersTotalMarketPrice;\n\t\t\t}\n\t\t},\n\t\tdata(){\n\t\t\treturn {\n\t\t\t\tfields: [\n\t\t\t\t\t{ key: 'name', formatter: (value, key, item) => item.security.details.SHORTNAME },\n\t\t\t\t\t{ key: 'amount' },\n\t\t\t\t\t{ key: 'marketPrice', formatter:(value, key, item) => item.security.marketData.MARKETPRICE },\n\t\t\t\t\t{ key: 'totalValue', formatter:(value, key, item) => item.security.marketData.MARKETPRICE * item.amount * item.security.details.FACEVALUE / 100 }\n\t\t\t\t]\n\t\t\t}\n\t\t},\n\t\tcreated(){\n\t\t\tthis.$store.dispatch('getOrders');\n\t\t\tthis.$store.dispatch('bonds.list');\n\t\t\tthis.$store.dispatch('shares.list');\n\t\t},\n\t\tmethods: {\n\t\t\tviewItem(item){\n\t\t\t\tthis.$router.push({ name: 'viewPortfolioSecurity', params: { id: item.secid } });\n\t\t\t}\n\t\t}\n\t};\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Securities.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Securities.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Securities.vue?vue&type=template&id=08ccde84&scoped=true&\"\nimport script from \"./Securities.vue?vue&type=script&lang=js&\"\nexport * from \"./Securities.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"08ccde84\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"portfolio\"},[_c('b-row',{staticClass:\"mb-2\"},[_c('b-col'),_c('b-col',[_c('b-nav',{attrs:{\"pills\":\"\"}},_vm._l((_vm.listTypes),function(item){return _c('b-nav-item',{key:item.value,attrs:{\"active-class\":\"active\",\"to\":'/portfolio/' + item.value}},[_vm._v(_vm._s(item.text))])}),1)],1),_c('b-col')],1),_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"portfolio\">\n\t\t<b-row class=\"mb-2\">\n\t\t\t<b-col></b-col>\n\t\t\t<b-col>\n\t\t\t\t<b-nav pills>\n\t\t\t\t\t<b-nav-item v-for=\"item in listTypes\"\n\t\t\t\t\t\t\t\tactive-class=\"active\"\n\t\t\t\t\t\t\t\t:key=\"item.value\"\n\t\t\t\t\t\t\t\t:to=\"'/portfolio/' + item.value\"  >{{ item.text }}</b-nav-item>\n\t\t\t\t</b-nav>\n\t\t\t</b-col>\n\t\t\t<b-col></b-col>\n\t\t</b-row>\n\n\t\t<router-view>\n\n\t\t</router-view>\n\n\t</div>\n</template>\n\n<script>\n\timport _ from 'lodash';\n\timport XLSX from 'xlsx';\n\n\n\timport BRow from 'bootstrap-vue/src/components/layout/row';\n\timport BCol from 'bootstrap-vue/src/components/layout/col';\n\n\texport default {\n\t\tname: 'Portfolio',\n\t\tcomponents: { BCol, BRow },\n\t\tcomputed: {\n\t\t\tportfolioTotal(){\n\t\t\t\treturn this.$store.getters.portfolioTotal;\n\t\t\t}\n\t\t},\n\t\tdata(){\n\t\t\treturn {\n\t\t\t\ttype: 'orders',\n\t\t\t\tlistTypes: [\n\t\t\t\t\t{ value: 'orders', text: 'Покупки' },\n\t\t\t\t\t{ value: 'securities', text: 'Бумаги' },\n\t\t\t\t\t{ value: 'fees', text: 'Комиссии' }\n\t\t\t\t]\n\t\t\t};\n\t\t},\n\t\tcreated(){\n\n\t\t},\n\t\tmethods: {\n\t\t\texportData(){\n\t\t\t\tconst items = this.items;\n\n\t\t\t\tif (items.length === 0){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst workbook = XLSX.utils.book_new();\n\t\t\t\tconst new_ws_name = 'Портфель';\n\n\t\t\t\tconst keys = _.keys(_.first(items));\n\n\t\t\t\tconst isoDateRegex = /\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{3}Z/;\n\n\t\t\t\tconst ws_data = [\n\t\t\t\t\tkeys,\n\t\t\t\t\t..._.map(items, item => {\n\t\t\t\t\t\treturn _.map(keys, key => {\n\t\t\t\t\t\t\tif (_.isObject(item[key]) || _.isArray(item[key])){\n\t\t\t\t\t\t\t\treturn JSON.stringify(item[key]);\n\t\t\t\t\t\t\t} else if (_.isString(item[key]) && isoDateRegex.test(item[key])){\n\t\t\t\t\t\t\t\treturn new Date(item[key]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn item[key];\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t];\n\t\t\t\tconst ws = XLSX.utils.aoa_to_sheet(ws_data);\n\n\t\t\t\t/* Add the worksheet to the workbook */\n\t\t\t\tXLSX.utils.book_append_sheet(workbook, ws, new_ws_name);\n\n\t\t\t\tXLSX.writeFile(workbook, `${new_ws_name}.xlsx`);\n\n\t\t\t}\n\n\t\t}\n\t};\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Portfolio.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Portfolio.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Portfolio.vue?vue&type=template&id=6436a76e&scoped=true&\"\nimport script from \"./Portfolio.vue?vue&type=script&lang=js&\"\nexport * from \"./Portfolio.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6436a76e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',[_c('div',[_c('h2',[_vm._v(_vm._s(_vm.security && _vm.security.details.SECNAME))]),_c('b-row',[_c('b-col',[_vm._v(\"Получено: \"+_vm._s(_vm._f(\"roundFloat\")(_vm.totalPayments,2))+\"₽\")]),_c('b-col',[_vm._v(\"Потрачено: \"+_vm._s(_vm._f(\"roundFloat\")(_vm.totalCost,2))+\"₽\")]),_c('b-col',[_vm._v(\"Период: \"+_vm._s(_vm.periodLength)+\" дней\")]),_c('b-col',[_vm._v(\"Доходность (годовых): \"+_vm._s(_vm._f(\"roundFloat\")(_vm.yieldYearly,2))+\"%\")])],1)],1),_c('b-row',[_c('b-col',[_c('h2',[_vm._v(\"Покупки\")]),_c('b-table',{attrs:{\"hover\":\"\",\"striped\":\"\",\"fields\":_vm.orderFields,\"items\":_vm.orders}})],1),_c('b-col',[_c('h2',[_vm._v(\"Выплаты\")]),_c('b-table',{attrs:{\"hover\":\"\",\"striped\":\"\",\"fields\":_vm.paymentFields,\"items\":_vm.payments}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<b-container>\n\t\t<div>\n\t\t\t<h2>{{ security && security.details.SECNAME }}</h2>\n\t\t\t<b-row>\n\t\t\t\t<b-col>Получено: {{ totalPayments | roundFloat(2) }}₽</b-col>\n\t\t\t\t<b-col>Потрачено: {{  totalCost | roundFloat(2) }}₽</b-col>\n\t\t\t\t<b-col>Период: {{  periodLength }} дней</b-col>\n\t\t\t\t<b-col>Доходность (годовых): {{  yieldYearly | roundFloat(2) }}%</b-col>\n\t\t\t</b-row>\n\t\t</div>\n\t\t<b-row>\n\t\t\t<b-col>\n\t\t\t\t<h2>Покупки</h2>\n\t\t\t\t<b-table hover striped :fields=\"orderFields\" :items=\"orders\"></b-table>\n\t\t\t</b-col>\n\t\t\t<b-col>\n\t\t\t\t<h2>Выплаты</h2>\n\t\t\t\t<b-table hover striped :fields=\"paymentFields\" :items=\"payments\"></b-table>\n\t\t\t</b-col>\n\t\t</b-row>\n\t</b-container>\n</template>\n\n<script>\n\timport _ from 'lodash';\n\timport moment from 'moment';\n\timport helpers from '../../js/helpers';\n\n\timport BTable from 'bootstrap-vue/src/components/table/table';\n\timport BContainer from 'bootstrap-vue/src/components/layout/container';\n\timport BCol from 'bootstrap-vue/src/components/layout/col';\n\texport default {\n\t\tname: 'ViewSecurity',\n\t\tcomponents: {BCol, BContainer, BTable},\n\t\tdata(){\n\t\t\treturn {\n\t\t\t\torderFields: [\n\t\t\t\t\t{ key: 'purchaseDate', label: 'Дата', formatter: 'dateValue' },\n\t\t\t\t\t{ key: 'price', label: 'Цена' },\n\t\t\t\t\t{ key: 'amount', label: 'Количество' },\n\t\t\t\t\t{ key: 'total', label: 'Итого', formatter: 'totalPrice' }\n\t\t\t\t],\n\t\t\t\tpaymentFields: [\n\t\t\t\t\t{ key: 'date', label: 'Дата', formatter: 'dateValue' },\n\t\t\t\t\t{ key: 'type', label: 'Тип', formatter: 'paymentType' },\n\t\t\t\t\t{ key: 'value', label: 'Выплата за единицу' },\n\t\t\t\t\t{ key: 'amount', label: 'В портфеле' },\n\t\t\t\t\t{ key: 'total', label: 'Итого' }\n\t\t\t\t]\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\tsecid() {\n\t\t\t\treturn this.$route.params.id;\n\t\t\t},\n\t\t\tsecurity() {\n\t\t\t\tconst bond = this.$store.getters.bondsCache[this.secid];\n\t\t\t\tif (bond && (!bond.payments || _.isEmpty(bond.payments))){\n\t\t\t\t\tthis.$store.dispatch('bonds.getPayments', bond.id);\n\t\t\t\t}\n\t\t\t\treturn bond || this.$store.getters.sharesCache[this.secid];\n\t\t\t},\n\t\t\torders() {\n\t\t\t\treturn _.filter(this.$store.getters.portfolioOrders, o => o.secid === this.secid);\n\t\t\t},\n\t\t\tperiod(){\n\t\t\t\tconst firstOrder = _.minBy(this.orders, o => o.purchaseDate);\n\t\t\t\tif (firstOrder){\n\t\t\t\t\treturn {\n\t\t\t\t\t\tfrom: moment(firstOrder.purchaseDate).toDate(),\n\t\t\t\t\t\tto: new Date()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t},\n\t\t\tperiodLength(){\n\t\t\t\tif (this.period){\n\t\t\t\t\treturn moment(this.period.to).diff(this.period.from, 'days');\n\t\t\t\t}\n\t\t\t\treturn 0;\n\t\t\t},\n\t\t\tpayments(){\n\t\t\t\tif (this.security && this.security.type === 'bonds'){\n\t\t\t\t\tconst period = this.period;\n\t\t\t\t\tif (period){\n\t\t\t\t\t\tconst payments = helpers.getBondPaymentsForPeriod({ bond: this.security, from: period.from, to: period.to });\n\t\t\t\t\t\thelpers.calculateOwnershipForPayments({ payments, orders: this.orders });\n\t\t\t\t\t\treturn payments;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t},\n\t\t\ttotalPayments(){\n\t\t\t\treturn _.reduce(this.payments, (acc, el) => acc + el.total, 0);\n\t\t\t},\n\t\t\ttotalCost(){\n\t\t\t\treturn _.reduce(this.orders, (acc, item) => acc + item.amount*item.price + item.nkd, 0);\n\t\t\t},\n\t\t\tyieldYearly(){\n\t\t\t\tif (!this.periodLength){\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\n\t\t\t\treturn 365 * (100 * this.totalPayments / this.totalCost) / this.periodLength\n\n\t\t\t}\n\t\t},\n\t\tcreated() {\n\t\t\t// TODO: single method for all securities\n\t\t\tthis.$store.dispatch('bonds.get', this.secid);\n\t\t\tthis.$store.dispatch('shares.get', this.secid);\n\t\t\tthis.$store.dispatch('getOrders');\n\t\t},\n\t\tmethods: {\n\t\t\tdateValue(value){\n\t\t\t\treturn moment(value).format('DD.MM.YYYY');\n\t\t\t},\n\t\t\ttotalPrice(value, key, item){\n\t\t\t\treturn item.amount*item.price + item.nkd;\n\t\t\t},\n\t\t\tpaymentType(value){\n\t\t\t\tswitch (value) {\n\t\t\t\t\tcase 'coupon':\n\t\t\t\t\t\treturn 'Купон';\n\t\t\t\t\tcase 'amortization':\n\t\t\t\t\t\treturn 'Амортизация';\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewSecurity.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewSecurity.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ViewSecurity.vue?vue&type=template&id=55f81674&scoped=true&\"\nimport script from \"./ViewSecurity.vue?vue&type=script&lang=js&\"\nexport * from \"./ViewSecurity.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"55f81674\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',[(_vm.item)?_c('b-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.save($event)}}},[_c('b-form-group',{attrs:{\"id\":\"dateGroup\",\"label\":\"Дата платежа:\",\"label-for\":\"date\"}},[_c('datepicker',{attrs:{\"format\":\"dd.MM.yyyy\",\"name\":\"uniquename\"},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}})],1),_c('b-form-group',{attrs:{\"id\":\"amountGroup\",\"label\":\"Сумма:\",\"label-for\":\"amount\"}},[_c('b-form-input',{attrs:{\"id\":\"amount\",\"type\":\"number\",\"step\":\"any\"},model:{value:(_vm.item.amount),callback:function ($$v) {_vm.$set(_vm.item, \"amount\", _vm._n($$v))},expression:\"item.amount\"}})],1),_c('b-form-group',{attrs:{\"id\":\"commentGroup\",\"label\":\"Коментарий:\",\"label-for\":\"comment\"}},[_c('b-form-input',{attrs:{\"id\":\"comment\",\"type\":\"text\"},model:{value:(_vm.item.comment),callback:function ($$v) {_vm.$set(_vm.item, \"comment\", $$v)},expression:\"item.comment\"}})],1),_c('b-button',{staticClass:\"mt-4\",attrs:{\"type\":\"submit\",\"variant\":\"primary\"}},[_vm._v(\"Сохранить\")])],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<b-container>\n\t\t<b-form @submit.prevent=\"save\" v-if=\"item\">\n\t\t\t<b-form-group\n\t\t\t\t\tid=\"dateGroup\"\n\t\t\t\t\tlabel=\"Дата платежа:\"\n\t\t\t\t\tlabel-for=\"date\">\n\t\t\t\t<datepicker v-model=\"date\"\n\t\t\t\t\t\t\tformat=\"dd.MM.yyyy\"\n\t\t\t\t\t\t\tname=\"uniquename\"></datepicker>\n\t\t\t</b-form-group>\n\t\t\t<b-form-group\n\t\t\t\t\tid=\"amountGroup\"\n\t\t\t\t\tlabel=\"Сумма:\"\n\t\t\t\t\tlabel-for=\"amount\">\n\t\t\t\t<b-form-input\n\t\t\t\t\t\tid=\"amount\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tstep=\"any\"\n\t\t\t\t\t\tv-model.number=\"item.amount\"/>\n\t\t\t</b-form-group>\n\t\t\t<b-form-group\n\t\t\t\t\tid=\"commentGroup\"\n\t\t\t\t\tlabel=\"Коментарий:\"\n\t\t\t\t\tlabel-for=\"comment\">\n\t\t\t\t<b-form-input\n\t\t\t\t\t\tid=\"comment\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tv-model=\"item.comment\"/>\n\t\t\t</b-form-group>\n\t\t\t<b-button class=\"mt-4\" type=\"submit\" variant=\"primary\">Сохранить</b-button>\n\t\t</b-form>\n\t</b-container>\n</template>\n\n<script>\n\timport moment from 'moment';\n\timport _ from 'lodash';\n\timport BContainer from 'bootstrap-vue/src/components/layout/container';\n\timport BForm from 'bootstrap-vue/src/components/form/form';\n\timport Datepicker from 'vuejs-datepicker';\n\texport default {\n\t\tname: 'EditFee',\n\t\tcomponents: {BForm, BContainer, Datepicker},\n\t\tdata(){\n\t\t\treturn {\n\t\t\t\titem: null\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\tid(){\n\t\t\t\treturn this.$route.params.id;\n\t\t\t},\n\t\t\tdate:{\n\t\t\t\tget(){\n\t\t\t\t\treturn moment(this.item.date).toDate();\n\t\t\t\t},\n\t\t\t\tset(value){\n\t\t\t\t\tthis.item.date = moment(value, 'YYYY-MM-DD').toDate();\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\tcreated(){\n\t\t\tif (this.id){\n\t\t\t\tthis.$store.dispatch('getPortfolioFee', this.id).then((item) => {\n\t\t\t\t\tthis.item = _.clone(item);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.item = { date: new Date(), amount: 0, comment: null };\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tsave(){\n\t\t\t\tthis.$store.dispatch('savePortfolioFee', this.item).then(() => {\n\t\t\t\t\tthis.$router.push('/portfolio/fees');\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditFee.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditFee.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditFee.vue?vue&type=template&id=6454a850&scoped=true&\"\nimport script from \"./EditFee.vue?vue&type=script&lang=js&\"\nexport * from \"./EditFee.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6454a850\",\n  null\n  \n)\n\nexport default component.exports","import EditOrderPage from './EditPortfolioOrder';\nimport FeesPage from './Fees';\nimport OrdersPage from './Orders';\nimport SecuritiesPage from './Securities';\nimport IndexPage from './Portfolio';\nimport ViewSecurityPage from './ViewSecurity';\nimport EditFeePage from './EditFee';\n\nexport default { EditOrderPage, FeesPage, OrdersPage, SecuritiesPage, IndexPage, ViewSecurityPage, EditFeePage };","import Portfolio from './Portfolio';\n\nexport default { Portfolio };","import Vue from 'vue';\nimport Router from 'vue-router';\n\n//import Bonds from './views/Bonds/Bonds.vue';\nimport BondsAlternate from '@/views/Bonds/BondsAlternate';\nimport ViewBond from '@/views/Bonds/ViewBond';\n\nimport Shares from '@/views/Shares/Shares';\nimport ViewShare from '@/views/Shares/ViewShare';\n\nimport views from './views';\n\nVue.use(Router);\n\nexport default new Router({\n\troutes: [\n\t\t{\n\t\t\tpath: '/bonds',\n\t\t\tname: 'bonds',\n\t\t\tcomponent: BondsAlternate\n\t\t},\n\t\t{\n\t\t\tpath: '/bonds/:secid/:board',\n\t\t\tname: 'viewBond',\n\t\t\tcomponent: ViewBond\n\t\t},\n\t\t{\n\t\t\tpath: '/portfolio', name: 'portfolio', component: views.Portfolio.IndexPage,\n\t\t\tchildren: [\n\t\t\t\t{ path: 'orders', name: 'portfolioOrders', component: views.Portfolio.OrdersPage },\n\t\t\t\t{ path: 'orders/:id', name: 'editPortfolioOrder', component: views.Portfolio.EditOrderPage },\n\t\t\t\t{ path: 'securities', name: 'portfolioSecurities', component: views.Portfolio.SecuritiesPage },\n\t\t\t\t{ path: 'securities/:id', name: 'viewPortfolioSecurity', component: views.Portfolio.ViewSecurityPage },\n\t\t\t\t{ path: 'fees', name: 'portfolioFees', component: views.Portfolio.FeesPage },\n\t\t\t\t{ path: 'fees/new', name: 'newPortfolioFee', component: views.Portfolio.EditFeePage },\n\t\t\t\t{ path: 'fees/:id', name: 'editPortfolioFee', component: views.Portfolio.EditFeePage }\n\t\t\t]\n\t\t},\n\t\t// {\n\t\t// \tpath: '/portfolio/:id',\n\t\t// \tname: 'editPortfolio',\n\t\t// \tcomponent: EditPortfolioItem\n\t\t// },\n\t\t{\n\t\t\tpath: '/shares',\n\t\t\tname: 'shares',\n\t\t\tcomponent: Shares\n\t\t},\n\t\t{\n\t\t\tpath: '/shares/:secid',\n\t\t\tname: 'viewShare',\n\t\t\tcomponent: ViewShare\n\t\t},\n\t\t// {\n\t\t// \tpath: '/about',\n\t\t// \tname: 'about',\n\t\t// \t// route level code-splitting\n\t\t// \t// this generates a separate chunk (about.[hash].js) for this route\n\t\t// \t// which is lazy-loaded when the route is visited.\n\t\t// \tcomponent: () => import(/* webpackChunkName: \"about\" */ './views/About.vue')\n\t\t// },\n\t\t{\n\t\t\tpath: '/',\n\t\t\tredirect: '/bonds'\n\t\t}\n\t]\n});\n","import Vue from 'vue';\nimport Vuex from 'vuex';\n// import _ from 'lodash';\nimport modules from './modules';\n\nVue.use(Vuex);\n\n//const  storage = window.localStorage;\n\n//const bonds = storage.getItem('bondsArray') && JSON.parse(storage.getItem('bondsArray')) || [];\n//const portfolio = storage.getItem('portfolio') && JSON.parse(storage.getItem('portfolio')) || [];\n\n// const test = bonds[19];\n// test.isin = 'RU000A0JU3B6';\n\n// const forDelete = [];\n// const bondsCache = _.reduce(bonds, (acc, el) => {\n// \tif (acc[el.isin]){\n// \t\tconsole.log('el.isin already exists');\n// \t\tforDelete.push(el);\n// \t}\n// \treturn {\n// \t\t...acc,\n// \t\t[el.isin]: el\n// \t};\n// }, {});\n\nexport default new Vuex.Store({\n\tmodules,\n\t// state: {\n\t// \t//bonds: bonds,\n\t// \t//bondsCache,\n\t// \t// portfolio: portfolio,\n\t// \t// portfolioCache: _.reduce(portfolio, (acc, el) => {\n\t// \t// \treturn {\n\t// \t// \t\t...acc,\n\t// \t// \t\t[el.id]: el\n\t// \t// \t};\n\t// \t// }, {})\n\t// },\n\t// mutations: {\n\t// \t// saveBond(state, item){\n\t// \t// \tif (state.bondsCache[item.isin]){\n\t// \t// \t\t_.extend(state.bondsCache[item.isin], item);\n\t// \t// \t} else {\n\t// \t// \t\tstate.bonds.push(item);\n\t// \t// \t\tstate.bondsCache[item.isin] = item;\n\t// \t// \t}\n\t// \t// \tstorage.setItem('bondsArray', JSON.stringify(state.bonds));\n\t// \t// },\n\t// \t// addBondToPortfolio(state, bondId){\n\t// \t// \tconst id = state.portfolio.length ? _.last(state.portfolio).id + 1 : 1;\n\t// \t// \tstate.portfolio.push({ id, bondId, amount: 0, purchaseDate: null });\n\t// \t// \tstorage.setItem('portfolio', JSON.stringify(state.portfolio));\n\t// \t// },\n\t// \t// savePortfolioItem(state, item){\n\t// \t// \tconst existing = state.portfolioCache[item.id];\n\t// \t// \t_.extend(existing, item);\n\t// \t// \tstorage.setItem('portfolio', JSON.stringify(state.portfolio));\n\t// \t// },\n\t// \t// removeBond(state, bondId){\n\t// \t// \tconst existing = state.bondsCache[bondId];\n\t// \t// \tif (existing){\n\t// \t// \t\tdelete state.bondsCache[bondId];\n\t// \t// \t\tconst index = _.indexOf(state.bonds, existing);\n\t// \t// \t\tif (index !== -1){\n\t// \t// \t\t\tstate.bonds.splice(index, 1);\n\t// \t// \t\t\tstorage.setItem('bondsArray', JSON.stringify(state.bonds));\n\t// \t// \t\t}\n\t// \t// \t}\n\t// \t// }\n\t// },\n\t// actions: {\n\t// \t// getBond({ state }, bondId){\n\t// \t// \treturn new Promise((resolve) => {\n\t// \t// \t\tresolve(state.bondsCache[bondId]);\n\t// \t// \t});\n\t// \t//\n\t// \t// },\n\t// \t// getPortfolioItem({ state }, itemId){\n\t// \t// \treturn new Promise((resolve) => {\n\t// \t// \t\tresolve(state.portfolioCache[itemId]);\n\t// \t// \t});\n\t// \t//\n\t// \t// },\n\t// \t// addBondToPortfolio({ commit }, bondId){\n\t// \t// \treturn new Promise((resolve) => {\n\t// \t// \t\tcommit('addBondToPortfolio', bondId);\n\t// \t// \t\tresolve();\n\t// \t// \t});\n\t// \t// },\n\t// \t// savePortfolioItem({ commit }, item){\n\t// \t// \treturn new Promise((resolve) => {\n\t// \t// \t\tcommit('savePortfolioItem', item);\n\t// \t// \t\tresolve();\n\t// \t// \t});\n\t// \t// }\n\t// }\n});\n","import Vue from 'vue';\nimport App from './App.vue';\nimport router from './router';\nimport store from './store/index';\nimport BootstrapVue from 'bootstrap-vue';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { faPlus, faFileExcel, faBriefcase } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\n\nlibrary.add(faPlus, faFileExcel, faBriefcase);\n\nVue.component('fa-icon', FontAwesomeIcon);\n\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'bootstrap-vue/dist/bootstrap-vue.css';\n\nVue.use(BootstrapVue);\n\nVue.filter('roundFloat', (value, decimals) => {\n\tconst multiplier = Math.pow(10, decimals);\n\treturn Math.round(value * multiplier) / multiplier;\n});\n\n\nVue.config.productionTip = false;\n\nnew Vue({\n\trouter,\n\tstore,\n\trender: h => h(App)\n}).$mount('#app');\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","import _ from 'lodash';\nimport Vue from 'vue';\nimport moex from '../../js/moex';\n\nconst vueExtend = (dest, source) => {\n\tfor(const key of _.keys(source)){\n\t\tVue.set(dest, key, source[key]);\n\t}\n};\n\nconst promisesCache = {};\n\nexport default {\n\tstate: {\n\t\tloading: false,\n\t\titems: [],\n\t\tsharesCache: {},\n\t\tselectedBoard: 'TQBR',\n\t\tsearchText: '',\n\t\tboards: [],\n\t\tcurrentPage: 1,\n\t\tperPage: 20,\n\t\tsortBy: 'marketData.MARKETPRICE',\n\t\tsortDesc: true\n\t},\n\tgetters: {\n\t\tshares: (state) => state.items,\n\t\tsharesCache: (state) => state.sharesCache,\n\t\tsharesBoards: (state) => state.boards\n\t},\n\tmutations: {\n\t\t'shares.set'(state, items){\n\t\t\tstate.items = items;\n\t\t},\n\t\t'sharesBoards.set'(state, items){\n\t\t\tstate.boards = items;\n\t\t},\n\t\t'shares.update'(state, item){\n\t\t\tif (state.sharesCache[item.id]){\n\t\t\t\tvueExtend(state.sharesCache[item.id], item);\n\t\t\t} else {\n\t\t\t\tVue.set(state.sharesCache, item.id, item);\n\t\t\t}\n\t\t},\n\t\t'shares.selectedBoard'(state, value){\n\t\t\tstate.selectedBoard = value;\n\t\t},\n\t\t'shares.searchText'(state, value){\n\t\t\tstate.searchText = value;\n\t\t},\n\t\t'shares.currentPage'(state, value){\n\t\t\tstate.currentPage = value;\n\t\t},\n\t\t'shares.perPage'(state, value){\n\t\t\tstate.perPage = value;\n\t\t},\n\t\t'shares.sortBy'(state, value){\n\t\t\tstate.sortBy = value;\n\t\t},\n\t\t'shares.sortDesc'(state, value){\n\t\t\tstate.sortDesc = value;\n\t\t},\n\t\t'shares.loading'(state, value){\n\t\t\tstate.loading = value;\n\t\t}\n\t},\n\tactions: {\n\t\tchangeSharesSelectedBoard({ commit, dispatch }, value){\n\t\t\tcommit('shares.selectedBoard', value);\n\t\t\tcommit('shares.set', []);\n\t\t\tpromisesCache.getShares = null;\n\t\t\tdispatch('getShares');\n\t\t},\n\t\tgetShares({ commit, state }){\n\t\t\tif (!promisesCache.getShares){\n\t\t\t\tpromisesCache.getShares = new Promise((resolve, reject) => {\n\t\t\t\t\tcommit('shares.loading', true);\n\t\t\t\t\tmoex.getSecuritiesForMarketAndBoard({ market: 'shares', board: state.selectedBoard }).then((securities) => {\n\t\t\t\t\t\tcommit('shares.set', securities);\n\t\t\t\t\t\tcommit('shares.loading', false);\n\t\t\t\t\t}, reject);\n\t\t\t\t})\n\t\t\t}\n\t\t\treturn promisesCache.getShares;\n\t\t},\n\t\tgetShare({ state, commit }, secid){\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tif (state.sharesCache[secid]){\n\t\t\t\t\treturn resolve(state.sharesCache[secid]);\n\t\t\t\t}\n\t\t\t\treturn moex.getBond(secid).then((item) => {\n\t\t\t\t\tcommit('shares.update', item);\n\t\t\t\t\treturn resolve(state.bondsCache[secid]);\n\t\t\t\t}, reject);\n\t\t\t});\n\t\t},\n\t\tgetSharesBoards({ commit }){\n\t\t\tif (!promisesCache.getBoardsForMarket){\n\t\t\t\tpromisesCache.getBoardsForMarket = new Promise((resolve, reject) => {\n\t\t\t\t\tmoex.getBoardsForMarket('shares').then((items) => {\n\t\t\t\t\t\tcommit('sharesBoards.set', items);\n\t\t\t\t\t}, reject);\n\t\t\t\t})\n\t\t\t}\n\t\t\treturn promisesCache.getBoardsForMarket;\n\t\t}\n\t}\n}","// import { openDB, deleteDB, wrap, unwrap } from 'idb';\n//\n// const dbPromise = openDB('investment_db', 1, {\n// \tupgrade(db) {\n// \t\t// Create a store of objects\n// \t\tconst ordersStore = db.createObjectStore('orders', {\n// \t\t\t// The 'id' property of the object will be the key.\n// \t\t\tkeyPath: 'id',\n// \t\t\t// If it isn't explicitly set, create a value by auto incrementing.\n// \t\t\tautoIncrement: true,\n// \t\t});\n// \t\t// Create an index on the 'date' property of the objects.\n// \t\tordersStore.createIndex('purchaseDate', 'purchaseDate');\n// \t},\n// });\nimport Dexie from 'dexie';\n\nconst db = new Dexie('investment_db');\ndb.version(1)\n\t.stores({\n\t\torders: '++id,purchaseDate'\n\t});\ndb.version(2)\n\t.stores({\n\t\torders: '++id,purchaseDate',\n\t\tfees: '++id,date'\n\t});\n\n\nexport default {\n\n\tsaveOrder(order){\n\t\t// return dbPromise.then((db) => {\n\t\t// \treturn db.add('orders', order);\n\t\t// }).then((item) => {\n\t\t// \treturn item;\n\t\t// }, (err) => {\n\t\t// \tconsole.error(err);\n\t\t// })\n\t\treturn db.orders.put(order).then((orderId) => {\n\t\t\tif (!order.id){\n\t\t\t\torder.id = orderId;\n\t\t\t}\n\t\t\treturn order;\n\t\t});\n\t},\n\n\tsaveOrders(orders){\n\t\treturn db.orders.bulkAdd(orders).then((lastId) => {\n\t\t\tconsole.log(`Added ${orders.length}, last key is ${lastId}`);\n\t\t\treturn this.getOrders();\n\t\t});\n\t},\n\n\t// async getOrder(orderId){\n\t// \t//return (await dbPromise).get('orders', orderId);\n\t// },\n\t//\n\tasync deleteOrder(orderId){\n\t\t//return (await dbPromise).delete('orders', orderId);\n\t\treturn db.orders.delete(orderId);\n\t},\n\t//\n\t// async updateOrder(order){\n\t// \t//return (await dbPromise).put('orders', order, order.id);\n\t// },\n\n\n\tgetOrders(){\n\t\treturn db.orders.toArray();\n\t\t// return dbPromise.then((db) => {\n\t\t// \treturn db.getAllFromIndex('orders', 'purchaseDate');\n\t\t// });\n\t},\n\n\tgetFees(){\n\t\treturn db.fees.toArray();\n\t},\n\n\tsaveFee(item){\n\t\treturn db.fees.put(item).then((itemId) => {\n\t\t\tif (!item.id){\n\t\t\t\titem.id = itemId;\n\t\t\t}\n\t\t\treturn item;\n\t\t});\n\t}\n\n\n};\n","import Vue from 'vue';\nimport _ from 'lodash';\nimport db from '../../js/db';\nimport moment from 'moment';\n\nlet getPortfolioPromise = null, getFeesPromise = null;\n\nconst vueExtend = (dest, source) => {\n\tfor(const key of _.keys(source)){\n\t\tVue.set(dest, key, source[key]);\n\t}\n};\n\nconst smartParseNumber = (value) => {\n\tif (_.isNumber(value)){\n\t\treturn value;\n\t}\n\n\tvalue = value.replace(/\\s+/g, '');\n\treturn parseFloat(value);\n\n};\n\nexport default {\n\tstate: {\n\t\torders: [],\n\t\tordersCache: {},\n\t\tfees: [],\n\t\tfeesCache: {}\n\t},\n\tgetters: {\n\t\tportfolioOrders: state => _.orderBy(state.orders, ['purchaseDate'], ['desc']),\n\t\tportfolioOrdersCache: state => state.ordersCache,\n\t\tportfolioOrdersTotalMarketPrice: (state, getters) => {\n\t\t\tlet total = 0;\n\t\t\t_.each(state.orders, item => {\n\t\t\t\tconst security = getters.bondsCache[item.secid];\n\t\t\t\tif (security){\n\t\t\t\t\t// PREVPRICE PREVLEGALCLOSEPRICE PREVADMITTEDQUOTE MARKETPRICE LCURRENTPRICE LCLOSEPRICE\n\t\t\t\t\ttotal += item.amount * (security.marketData.MARKETPRICE * security.details.FACEVALUE / 100);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn total;\n\t\t},\n\t\tportfolioOrdersTotalPurchasePrice: (state, getters) => {\n\t\t\tlet total = 0;\n\t\t\t_.each(state.orders, item => {\n\t\t\t\tconst security = getters.bondsCache[item.secid];\n\t\t\t\tif (security){\n\t\t\t\t\ttotal += item.amount * item.price + item.nkd;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn total;\n\t\t},\n\t\tportfolioSecurities: (state, getters) => {\n\t\t\tconst securities = _.groupBy(state.orders, o => o.secid);\n\t\t\treturn _.map(_.keys(securities), (secid) => {\n\t\t\t\tconst orders = securities[secid];\n\t\t\t\tconst security = getters.bondsCache[secid] || getters.sharesCache[secid] || { id: secid, details: {}, marketData: {} };\n\t\t\t\treturn {\n\t\t\t\t\tsecid,\n\t\t\t\t\tsecurity,\n\t\t\t\t\tamount: _.reduce(orders, (acc, o) => acc + o.amount, 0)\n\t\t\t\t};\n\n\t\t\t});\n\t\t},\n\t\tportfolioFees: state => _.orderBy(state.fees, ['date'], ['desc']),\n\t\tportfolioFeesTotal: state => _.reduce(state.fees, (acc, el) => acc + el.amount, 0)\n\t},\n\tmutations: {\n\t\t'portfolioOrders.set'(state, orders){\n\t\t\tstate.orders = orders;\n\t\t\t_.each(orders, item => {\n\t\t\t\tVue.set(state.ordersCache, item.id, item);\n\t\t\t});\n\t\t},\n\t\t'portfolioOrders.add'(state, item){\n\t\t\tstate.orders.push(item);\n\t\t\tVue.set(state.ordersCache, item.id, item);\n\t\t\t//storage.setItem('portfolioorders', JSON.stringify(state.orders));\n\t\t},\n\t\t'portfolioOrders.update'(state, item){\n\t\t\tconst existing = state.ordersCache[item.id];\n\t\t\tif (existing){\n\t\t\t\tvueExtend(existing, item);\n\t\t\t} else {\n\t\t\t\tVue.set(state.ordersCache, item.id, item);\n\t\t\t}\n\t\t},\n\t\t'portfolioOrders.delete'(state, itemId){\n\t\t\tif (state.ordersCache[itemId]){\n\t\t\t\tconst index = _.indexOf(state.orders, state.ordersCache[itemId]);\n\t\t\t\tif (index !== -1){\n\t\t\t\t\tstate.orders.splice(index, 1);\n\t\t\t\t\t//storage.setItem('portfolioorders', JSON.stringify(state.orders));\n\t\t\t\t}\n\t\t\t\tdelete state.ordersCache[itemId];\n\t\t\t}\n\t\t},\n\t\t'portfolioFees.set'(state, items){\n\t\t\tstate.fees = items;\n\t\t\t_.each(items, item => {\n\t\t\t\tVue.set(state.feesCache, item.id, item);\n\t\t\t});\n\t\t},\n\t\t'portfolioFees.update'(state, item){\n\t\t\tconst existing = state.feesCache[item.id];\n\t\t\tif (existing){\n\t\t\t\tvueExtend(existing, item);\n\t\t\t} else {\n\t\t\t\tVue.set(state.feesCache, item.id, item);\n\t\t\t\tstate.fees.push(item);\n\t\t\t}\n\t\t}\n\t},\n\tactions: {\n\t\tgetOrders({ commit }){\n\t\t\tif (!getPortfolioPromise){\n\t\t\t\tgetPortfolioPromise = new Promise((resolve, reject) => {\n\t\t\t\t\ttry {\n\n\t\t\t\t\t\tdb.getOrders().then((orders) => {\n\t\t\t\t\t\t\tcommit('portfolioOrders.set', orders);\n\t\t\t\t\t\t\tresolve(orders);\n\t\t\t\t\t\t}, reject);\n\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tresolve([]);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn getPortfolioPromise;\n\t\t},\n\t\taddOrder({ commit }, { secid, market }){\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tconst item = {\n\t\t\t\t\tsecid,\n\t\t\t\t\tmarket,\n\t\t\t\t\tpurchaseDate: new Date(),\n\t\t\t\t\tamount: 0\n\t\t\t\t};\n\t\t\t\tdb.saveOrder(item).then((order) => {\n\t\t\t\t\tcommit('portfolioOrders.add', order);\n\t\t\t\t\tresolve(order);\n\t\t\t\t}, reject);\n\n\t\t\t})\n\t\t},\n\t\tgetOrder({ dispatch, state }, itemId){\n\t\t\treturn dispatch('getOrders').then(() => {\n\t\t\t\treturn state.ordersCache[itemId];\n\t\t\t});\n\t\t},\n\t\tdeleteOrder({ commit, state }, itemId){\n\t\t\tif (!state.ordersCache[itemId]){\n\t\t\t\treturn Promise.reject(`Portfolio item with id ${order.id} does not exist`);\n\t\t\t}\n\n\t\t\treturn db.deleteOrder(itemId).then(() => {\n\t\t\t\tcommit('portfolioOrders.delete', itemId);\n\t\t\t});\n\t\t},\n\t\tupdateOrder({ commit, state }, order){\n\t\t\tconst existing = state.ordersCache[order.id];\n\t\t\tif (!existing){\n\t\t\t\treturn Promise.reject(`Portfolio item with id ${order.id} does not exist`);\n\t\t\t}\n\t\t\treturn db.saveOrder(order).then((order) => {\n\t\t\t\tcommit('portfolioOrders.update', order);\n\t\t\t\treturn state.ordersCache[order.id];\n\t\t\t})\n\t\t},\n\t\tgetPortfolioFees({ commit }){\n\t\t\tif (!getFeesPromise){\n\t\t\t\tgetFeesPromise = new Promise((resolve, reject) => {\n\t\t\t\t\ttry {\n\n\t\t\t\t\t\tdb.getFees().then((items) => {\n\t\t\t\t\t\t\tcommit('portfolioFees.set', items);\n\t\t\t\t\t\t\tresolve(items);\n\t\t\t\t\t\t}, reject);\n\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tresolve([]);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn getFeesPromise;\n\t\t},\n\t\tgetPortfolioFee({ dispatch, state }, itemId){\n\t\t\treturn dispatch('getPortfolioFees').then(() => {\n\t\t\t\treturn state.feesCache[itemId];\n\t\t\t});\n\t\t},\n\t\tsavePortfolioFee({ commit, state }, item){\n\t\t\treturn db.saveFee(item).then((fee) => {\n\t\t\t\tcommit('portfolioFees.update', fee);\n\t\t\t\treturn state.feesCache[fee.id];\n\t\t\t})\n\t\t},\n\t\timportPortfolioOrders({ commit }, items){\n\t\t\tconst mappedOrders = _.map(items, item => {\n\t\t\t\treturn {\n\t\t\t\t\tsecid: item.SECID,\n\t\t\t\t\tpurchaseDate: moment(item.DATE, 'DD.MM.YYYY').toDate(),\n\t\t\t\t\tprice: smartParseNumber(item.PRICE),\n\t\t\t\t\tamount: smartParseNumber(item.AMOUNT),\n\t\t\t\t\tnkd: smartParseNumber(item.NKD)\n\t\t\t\t};\n\t\t\t});\n\n\t\t\treturn db.saveOrders(mappedOrders).then((items) => {\n\t\t\t\tcommit('portfolioOrders.set', items);\n\t\t\t\treturn items;\n\t\t\t});\n\n\t\t}\n\t}\n}","var map = {\n\t\"./bonds.js\": \"1cbc\",\n\t\"./index.js\": \"2a74\",\n\t\"./layout.js\": \"3150\",\n\t\"./portfolio.js\": \"9639\",\n\t\"./shares.js\": \"6877\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"d307\";","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditPortfolioOrder.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditPortfolioOrder.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}